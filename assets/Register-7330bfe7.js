import{S as h,a as w}from"./request-6aaa77d4.js";import{k as l,x as y,o as S,z as b,j as k,w as I,t as p,$ as u,A as t,H as R,I as C}from"./vue-router.esm-bundler-d94c5ebd.js";import{_ as V}from"./plugin-vueexport-helper-c27b6911.js";import{w as v}from"./useConfigInject-855253b5.js";import"./index-79d3e907.js";const _=n=>(R("data-v-e5d6b939"),n=n(),C(),n),U={class:"page"},N=_(()=>t("div",{class:"header flex text-center items-center"},[t("div",{class:"w-full text-3xl font-bold text-white"},"HKUST Smart Canteen")],-1)),T=_(()=>t("div",{class:"text-center text-2xl font-bold my-8"},"Sign up",-1)),B={__name:"Register",setup(n){const a=l(""),r=l(""),o=l(""),i=l(""),d=l(!1),g=async()=>{if(a.value.length===0||r.value.length===0||o.value.length===0||i.value.length===0){v.error("Please complete all fields");return}o.value!==i.value&&v.error("Passwords are not consistent"),d.value=!0;let c=await w("post","register",{itsc:a.value,name:r.value,password:o.value});if(d.value=!1,c.error===!1){let e=c.result;localStorage.setItem("food_minus_app",JSON.stringify({token:e,itsc:a.value})),m.push({name:"Home",params:{needReload:!0}})}},m=y(),f=()=>{m.push({path:"/login"})};return(c,e)=>{const x=h;return S(),b("div",U,[k(x,{spinning:d.value,tip:"Signing up"},{default:I(()=>[N,T,p(t("input",{type:"text",class:"input",placeholder:"ITSC","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s)},null,512),[[u,a.value]]),p(t("input",{type:"text",class:"input",placeholder:"Nickname","onUpdate:modelValue":e[1]||(e[1]=s=>r.value=s)},null,512),[[u,r.value]]),p(t("input",{type:"password",class:"input",placeholder:"Password","onUpdate:modelValue":e[2]||(e[2]=s=>o.value=s)},null,512),[[u,o.value]]),p(t("input",{type:"password",class:"input",placeholder:"Confirm password","onUpdate:modelValue":e[3]||(e[3]=s=>i.value=s)},null,512),[[u,i.value]]),t("span",{class:"text-btn color-primary",onClick:f},"Already have an account?"),t("div",{class:"btn-group"},[t("div",{class:"btn primary-btn bg-color-primary font-bold",onClick:g}," Signup ")])]),_:1},8,["spinning"])])}}},q=V(B,[["__scopeId","data-v-e5d6b939"]]);export{q as default};
