import{e as ns,_,f as q,a as $t,h as mt,b as tr}from"./useConfigInject-968d6b94.js";import{C as Fn,D as is,A as ss,k as Me,f as os,o as Oa,j as La,l as It,t as Ya,m as us,p as ls}from"./vue-router.esm-bundler-f47d5b1d.js";import{_ as $n}from"./plugin-vueexport-helper-c27b6911.js";function Na(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ns(n.key),n)}}function T(t,r,e){return r&&Na(t.prototype,r),e&&Na(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}const fs=t=>{let r=new Date(t*1e3),e=r.getFullYear(),n=r.getMonth()+1,a=r.getDate(),i=r.getHours(),s=r.getMinutes();return i+":"+s+" "+n+"/"+a+"/"+e},ch=t=>{let r=new Date(t*1e3),e=r.getMonth()+1,n=r.getDate();return e+"/"+n};var Jt=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},jn=function(t,r){if(!Jt(t))return t;for(var e=[],n=0;n<t.length;n++){var a=t[n];r(a,n)&&e.push(a)}return e},cs={}.toString,hs=function(t,r){return cs.call(t)==="[object "+r+"]"};const Kt=hs,j=function(t){return Kt(t,"Function")};var vs=function(t){return t==null};const w=vs,P=function(t){return Array.isArray?Array.isArray(t):Kt(t,"Array")},ye=function(t){var r=typeof t;return t!==null&&r==="object"||r==="function"};function F(t,r){if(t){var e;if(P(t))for(var n=0,a=t.length;n<a&&(e=r(t[n],n),e!==!1);n++);else if(ye(t)){for(var i in t)if(t.hasOwnProperty(i)&&(e=r(t[i],i),e===!1))break}}}var ps=function(t){return typeof t=="object"&&t!==null},ve=function(t){if(!ps(t)||!Kt(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r};function ds(t,r,e){e===void 0&&(e=0);for(var n=e;n<t.length;n++)if(r(t[n],n))return n;return-1}var Pe=function(t){if(!P(t))return[];for(var r=[],e=0;e<t.length;e++)r=r.concat(t[e]);return r};const ys=function(t){if(P(t))return t.reduce(function(r,e){return Math.max(r,e)},t[0])},gs=function(t){if(P(t))return t.reduce(function(r,e){return Math.min(r,e)},t[0])};var Bn=function(t){var r=t.filter(function(s){return!isNaN(s)});if(!r.length)return{min:0,max:0};if(P(t[0])){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);r=e}var a=ys(r),i=gs(r);return{min:i,max:a}},ms=function(t,r,e){if(!P(t)&&!ve(t))return t;var n=e;return F(t,function(a,i){n=r(n,a,i)}),n};const Q=function(t){return Kt(t,"String")},cr=function(t,r){for(var e=[],n={},a=0;a<t.length;a++){var i=t[a],s=i[r];if(!w(s)){P(s)||(s=[s]);for(var o=0;o<s.length;o++){var u=s[o];n[u]||(e.push(u),n[u]=!0)}}}return e};function Et(t){if(Jt(t))return t[0]}function ht(t){if(Jt(t)){var r=t;return r[r.length-1]}}var xs=Object.prototype.hasOwnProperty;function pa(t,r){if(!r||!P(t))return{};for(var e={},n=j(r)?r:function(o){return o[r]},a,i=0;i<t.length;i++){var s=t[i];a=n(s),xs.call(e,a)?e[a].push(s):e[a]=[s]}return e}function zn(t,r){if(!r)return{0:t};if(!j(r)){var e=P(r)?r:r.replace(/\s+/g,"").split("*");r=function(n){for(var a="_",i=0,s=e.length;i<s;i++)a+=n[e[i]]&&n[e[i]].toString();return a}}return pa(t,r)}const _s=function(t,r){if(!r)return[t];var e=zn(t,r),n=[];for(var a in e)n.push(e[a]);return n};var Dr=function(t,r){var e=r.toString(),n=e.indexOf(".");if(n===-1)return Math.round(t);var a=e.substr(n+1).length;return a>20&&(a=20),parseFloat(t.toFixed(a))},W=function(t){return Kt(t,"Number")},ws=Object.values?function(t){return Object.values(t)}:function(t){var r=[];return F(t,function(e,n){j(t)&&n==="prototype"||r.push(e)}),r};const Ms=function(t){return w(t)?"":t.toString()};function ks(t,r){return!t||!r?t:t.replace(/\\?\{([^{}]+)\}/g,function(e,n){return e.charAt(0)==="\\"?e.slice(1):r[n]===void 0?"":r[n]})}var Ae=function(t){var r=Ms(t);return r.charAt(0).toUpperCase()+r.substring(1)},Ss={}.toString,bs=function(t){return Ss.call(t).replace(/^\[object /,"").replace(/]$/,"")},Xn=function(t){return Kt(t,"Boolean")},da=function(t){return Kt(t,"Date")},Cs=Object.prototype,Ps=function(t){var r=t&&t.constructor,e=typeof r=="function"&&r.prototype||Cs;return t===e},Ea=function(t){return t===void 0};function Ir(t,r){for(var e in r)r.hasOwnProperty(e)&&e!=="constructor"&&r[e]!==void 0&&(t[e]=r[e])}function X(t,r,e,n){return r&&Ir(t,r),e&&Ir(t,e),n&&Ir(t,n),t}var er=function(t){if(typeof t!="object"||t===null)return t;var r;if(P(t)){r=[];for(var e=0,n=t.length;e<n;e++)typeof t[e]=="object"&&t[e]!=null?r[e]=er(t[e]):r[e]=t[e]}else{r={};for(var a in t)typeof t[a]=="object"&&t[a]!=null?r[a]=er(t[a]):r[a]=t[a]}return r};const As=function(t,r){if(!j(t))throw new TypeError("Expected a function");var e=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=r?r.apply(this,n):n[0],s=e.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return s.set(i,o),o};return e.cache=new Map,e};var Ts=5;function Hn(t,r,e,n){e=e||0,n=n||Ts;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i!==null&&ve(i)?(ve(t[a])||(t[a]={}),e<n?Hn(t[a],i,e+1,n):t[a]=r[a]):P(i)?(t[a]=[],t[a]=t[a].concat(i)):i!==void 0&&(t[a]=i)}}var Ds=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];for(var n=0;n<r.length;n+=1)Hn(t,r[n]);return t};const hr=Ds;var Wn=function(t,r){if(!Jt(t))return-1;var e=Array.prototype.indexOf;if(e)return e.call(t,r);for(var n=-1,a=0;a<t.length;a++)if(t[a]===r){n=a;break}return n},Is=Object.prototype.hasOwnProperty;function Rs(t){if(w(t))return!0;if(Jt(t))return!t.length;var r=bs(t);if(r==="Map"||r==="Set")return!t.size;if(Ps(t))return!Object.keys(t).length;for(var e in t)if(Is.call(t,e))return!1;return!0}var ke=function(t,r){if(!Jt(t))return t;for(var e=[],n=0;n<t.length;n++){var a=t[n];e.push(r(a,n))}return e},Os=function(t){return t};const Ls=function(t,r){r===void 0&&(r=Os);var e={};return ye(t)&&!w(t)&&Object.keys(t).forEach(function(n){e[n]=r(t[n],n)}),e},qr=function(t,r,e){for(var n=0,a=Q(r)?r.split("."):r;t&&n<a.length;)t=t[a[n++]];return t===void 0||n<a.length?e:t};var Ys=Object.prototype.hasOwnProperty;const Ns=function(t,r){if(t===null||!ve(t))return{};var e={};return F(r,function(n){Ys.call(t,n)&&(e[n]=t[n])}),e},Es=function(t,r){return ms(t,function(e,n,a){return r.includes(a)||(e[a]=n),e},{})};function Vn(t){return w(t)?0:Jt(t)?t.length:Object.keys(t).length}var Gr=function(t,r){return Gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},Gr(t,r)};function Mt(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Gr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Ur=function(){return Ur=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Ur.apply(this,arguments)};function qn(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var n=Array(t),a=0,r=0;r<e;r++)for(var i=arguments[r],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}var je;As(function(t,r){r===void 0&&(r={});var e=r.fontSize,n=r.fontFamily,a=r.fontWeight,i=r.fontStyle,s=r.fontVariant;return je||(je=document.createElement("canvas").getContext("2d")),je.font=[i,s,a,e+"px",n].join(" "),je.measureText(Q(t)?t:"").width},function(t,r){return r===void 0&&(r={}),qn([t],ws(r)).join("")});var Fs=function(){function t(){this.map={}}return t.prototype.has=function(r){return this.map[r]!==void 0},t.prototype.get=function(r,e){var n=this.map[r];return n===void 0?e:n},t.prototype.set=function(r,e){this.map[r]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(r){delete this.map[r]},t.prototype.size=function(){return Object.keys(this.map).length},t}();function $s(t,r){return t&&_(_({},t),{},{props:_(_({},t.props),r)})}function Gn(t,r){return t&&P(t)?t.map(function(e){return Gn(e,r)}):r(t)}function js(t,r,e){for(var n={},a=t.length,i=r.length,s=0,o=i;s<o;s++){var u=r[s];if(u&&!w(u.key)){var l=u.key;n[l]=u}}for(var f=0,c=Math.max(a,i);f<c;f++){var h=t[f];if(!h){Se(h,r[f],e);continue}var v=h.key;if(!w(h.key)){var p=n[v];p&&delete n[v],Se(h,p,e);continue}Se(h,r[f],e)}Object.keys(n).forEach(function(d){Se(null,n[d],e)})}function Se(t,r,e){if(!t||!r){e(t,r);return}if(P(t)||P(r)){var n=P(t)?t:[t],a=P(r)?r:[r];js(n,a,e);return}e(t,r)}function Un(t){if(!t)return t;if(!P(t))return[t];for(var r=[],e=0,n=t.length;e<n;e++){var a=t[e];P(a)?r=r.concat(Un(a)):r.push(a)}return r}var Bs={cloneElement:$s,map:Gn,toArray:Un,compare:Se};const G=Bs;var Zn=function(){function t(r,e,n){D(this,t),this.destroyed=!1,this.props=r,this.state={},this.context=e,this.updater=n}return T(t,[{key:"willMount",value:function(){}},{key:"didMount",value:function(){}},{key:"willReceiveProps",value:function(e,n){}},{key:"willUpdate",value:function(){}},{key:"didUpdate",value:function(){}},{key:"render",value:function(){return null}},{key:"didUnmount",value:function(){}},{key:"setState",value:function(e,n){this.updater.enqueueSetState(this,e,n)}},{key:"forceUpdate",value:function(e){this.updater.enqueueForceUpdate(this,{},e)}},{key:"setAnimate",value:function(e){this.animate=e}},{key:"destroy",value:function(){this.destroyed=!0}}]),t}();Zn.prototype.isF2Component=!0;const vr=Zn;function pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zr(t,r){return Zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zr(t,r)}function N(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Zr(t,r)}function Y(t){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(t)}function zs(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jn(t,r){if(r&&(q(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pe(t)}function E(t){var r=zs();return function(){var n=Y(t),a;if(r){var i=Y(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Jn(this,a)}}var Xs="*",Hs=function(){function t(){this._events={}}return t.prototype.on=function(r,e,n){return this._events[r]||(this._events[r]=[]),this._events[r].push({callback:e,once:!!n}),this},t.prototype.once=function(r,e){return this.on(r,e,!0)},t.prototype.emit=function(r){for(var e=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=this._events[r]||[],s=this._events[Xs]||[],o=function(u){for(var l=u.length,f=0;f<l;f++)if(u[f]){var c=u[f],h=c.callback,v=c.once;v&&(u.splice(f,1),u.length===0&&delete e._events[r],l--,f--),h.apply(e,n)}};o(i),o(s)},t.prototype.off=function(r,e){if(!r)this._events={};else if(!e)delete this._events[r];else{for(var n=this._events[r]||[],a=n.length,i=0;i<a;i++)n[i].callback===e&&(n.splice(i,1),a--,i--);n.length===0&&delete this._events[r]}return this},t.prototype.getEvents=function(){return this._events},t}(),Ze={generateDefault:function(){return[1,0,0,1,0,0]},isChanged:function(r){return r[0]!==1||r[1]!==0||r[2]!==0||r[3]!==1||r[4]!==0||r[5]!==0},multiply:function(r,e){var n=r[0]*e[0]+r[2]*e[1],a=r[1]*e[0]+r[3]*e[1],i=r[0]*e[2]+r[2]*e[3],s=r[1]*e[2]+r[3]*e[3],o=r[0]*e[4]+r[2]*e[5]+r[4],u=r[1]*e[4]+r[3]*e[5]+r[5];return[n,a,i,s,o,u]},scale:function(r,e,n){return r[0]=e[0]*n[0],r[1]=e[1]*n[0],r[2]=e[2]*n[1],r[3]=e[3]*n[1],r[4]=e[4],r[5]=e[5],r},rotate:function(r,e,n){var a=Math.cos(n),i=Math.sin(n),s=e[0]*a+e[2]*i,o=e[1]*a+e[3]*i,u=e[0]*-i+e[2]*a,l=e[1]*-i+e[3]*a;return r[0]=s,r[1]=o,r[2]=u,r[3]=l,r[4]=e[4],r[5]=e[5],r},translate:function(r,e,n){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4]+e[0]*n[0]+e[2]*n[1],r[5]=e[5]+e[1]*n[0]+e[3]*n[1],r},transform:function(r,e){for(var n=[].concat(r),a=0,i=e.length;a<i;a++){var s=e[a];switch(s[0]){case"t":Ze.translate(n,n,[s[1],s[2]]);break;case"s":Ze.scale(n,n,[s[1],s[2]]);break;case"r":Ze.rotate(n,n,s[1]);break}}return n}};const le=Ze,L={create:function(){return[0,0]},length:function(r){var e=r[0],n=r[1];return Math.sqrt(e*e+n*n)},normalize:function(r,e){var n=this.length(e);return n===0?(r[0]=0,r[1]=0):(r[0]=e[0]/n,r[1]=e[1]/n),r},add:function(r,e,n){return r[0]=e[0]+n[0],r[1]=e[1]+n[1],r},sub:function(r,e,n){return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r},scale:function(r,e,n){return r[0]=e[0]*n,r[1]=e[1]*n,r},dot:function(r,e){return r[0]*e[0]+r[1]*e[1]},direction:function(r,e){return r[0]*e[1]-e[0]*r[1]},angle:function(r,e){var n=this.dot(r,e)/(this.length(r)*this.length(e));return Math.acos(n)},angleTo:function(r,e,n){var a=this.angle(r,e),i=this.direction(r,e)>=0;return n?i?Math.PI*2-a:a:i?a:Math.PI*2-a},zero:function(r){return r[0]===0&&r[1]===0},distance:function(r,e){var n=e[0]-r[0],a=e[1]-r[1];return Math.sqrt(n*n+a*a)},clone:function(r){return[r[0],r[1]]},min:function(r,e,n){return r[0]=Math.min(e[0],n[0]),r[1]=Math.min(e[1],n[1]),r},max:function(r,e,n){return r[0]=Math.max(e[0],n[0]),r[1]=Math.max(e[1],n[1]),r},transformMat2d:function(r,e,n){var a=e[0],i=e[1];return r[0]=n[0]*a+n[2]*i+n[4],r[1]=n[1]*a+n[3]*i+n[5],r}};function se(t){return[t.x,t.y]}function Ws(t,r,e,n){var a=[],i,s,o=!!n,u,l,f,c,h,v;if(o){for(u=[1/0,1/0],l=[-1/0,-1/0],v=0,h=t.length;v<h;v++)f=se(t[v]),L.min(u,u,f),L.max(l,l,f);L.min(u,u,n[0]),L.max(l,l,n[1])}for(v=0,c=t.length;v<c;v++){if(f=se(t[v]),e)i=se(t[v?v-1:c-1]),s=se(t[(v+1)%c]);else if(v===0||v===c-1){a.push([f[0],f[1]]);continue}else i=se(t[v-1]),s=se(t[v+1]);var p=L.sub([],s,i);L.scale(p,p,r);var d=L.distance(f,i),y=L.distance(f,s),g=d+y;g!==0&&(d/=g,y/=g);var x=L.scale([],p,-d),M=L.scale([],p,y),k=L.add([],f,x),S=L.add([],f,M);o&&(L.max(k,k,u),L.min(k,k,l),L.max(S,S,u),L.min(S,S,l)),a.push([k[0],k[1]]),a.push([S[0],S[1]])}return e&&a.push(a.shift()),a}function Fa(t,r,e){for(var n=!!r,a=Ws(t,.4,n,e),i=t.length,s=[],o,u,l,f=0;f<i-1;f++)o=a[f*2],u=a[f*2+1],l=t[f+1],s.push(["C",o[0],o[1],u[0],u[1],l.x,l.y]);return n&&(o=a[i],u=a[i+1],l=t[0],s.push(["C",o[0],o[1],u[0],u[1],l.x,l.y])),s}var Be=L.create(),ze=L.create(),Xe=L.create();function Vs(t,r,e,n,a){var i=$a(a,t.x,r.x,e.x,n.x),s=$a(a,t.y,r.y,e.y,n.y);return{x:i,y:s}}function $a(t,r,e,n,a){var i=t*t,s=i*t;return r+(-r*3+t*(3*r-r*t))*t+(3*e+t*(-6*e+e*3*t))*t+(n*3-n*3*t)*i+a*s}function qs(t){for(var r=1/0,e=-1/0,n=1/0,a=-1/0,i={x:t[0],y:t[1]},s={x:t[2],y:t[3]},o={x:t[4],y:t[5]},u={x:t[6],y:t[7]},l=0;l<100;l++){var f=Vs(i,s,o,u,l/100);f.x<r&&(r=f.x),f.x>e&&(e=f.x),f.y<n&&(n=f.y),f.y>a&&(a=f.y)}return{minX:r,minY:n,maxX:e,maxY:a}}function Kn(t,r){if(t.length!==0){for(var e=t[0],n=e.x,a=e.x,i=e.y,s=e.y,o=t.length,u=1;u<o;u++)e=t[u],n=Math.min(n,e.x),a=Math.max(a,e.x),i=Math.min(i,e.y),s=Math.max(s,e.y);return r=r/2||0,{minX:n-r,minY:i-r,maxX:a+r,maxY:s+r}}}function Gs(t,r,e,n,a){return a=a/2||0,{minX:Math.min(t,e)-a,minY:Math.min(r,n)-a,maxX:Math.max(t,e)+a,maxY:Math.max(r,n)+a}}function Jr(t,r,e,n,a,i){var s=Math.abs(n-a);if(s%(Math.PI*2)<1e-4&&s>1e-4)return{minX:t-e,minY:r-e,maxX:t+e,maxY:r+e};Be[0]=Math.cos(n)*e+t,Be[1]=Math.sin(n)*e+r,ze[0]=Math.cos(a)*e+t,ze[1]=Math.sin(a)*e+r;var o=[0,0],u=[0,0];if(L.min(o,Be,ze),L.max(u,Be,ze),n=n%(Math.PI*2),n<0&&(n=n+Math.PI*2),a=a%(Math.PI*2),a<0&&(a=a+Math.PI*2),n>a&&!i?a+=Math.PI*2:n<a&&i&&(n+=Math.PI*2),i){var l=a;a=n,n=l}for(var f=0;f<a;f+=Math.PI/2)f>n&&(Xe[0]=Math.cos(f)*e+t,Xe[1]=Math.sin(f)*e+r,L.min(o,Xe,o),L.max(u,Xe,u));return{minX:o[0],minY:o[1],maxX:u[0],maxY:u[1]}}function Us(t,r){for(var e=1/0,n=-1/0,a=1/0,i=-1/0,s=0,o=t.length;s<o;s++){var u=qs(t[s]);u.minX<e&&(e=u.minX),u.maxX>n&&(n=u.maxX),u.minY<a&&(a=u.minY),u.maxY>i&&(i=u.maxY)}return r=r/2||0,{minX:e-r,minY:a-r,maxX:n+r,maxY:i+r}}var ja=" ",Zs=function(){function t(){D(this,t),this.__events={}}return T(t,[{key:"on",value:function(e,n){var a=this;!e||!n||e.split(ja).forEach(function(i){var s=a.__events[i]||[];s.push(n),a.__events[i]=s})}},{key:"emit",value:function(e,n){var a=this;if(ye(e)&&(n=e,e=n&&n.type),!!e){var i=this.__events[e];!i||!i.length||i.forEach(function(s){s.call(a,n)})}}},{key:"off",value:function(e,n){var a=this.__events;e.split(ja).forEach(function(i){var s=a[i];if(!(!s||!s.length)){if(!n){delete a[i];return}for(var o=0,u=s.length;o<u;o++)s[o]===n&&(s.splice(o,1),o--)}})}}]),t}();const Qn=Zs;(function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,r)}catch{}return t})();(typeof wx>"u"?"undefined":q(wx))==="object"&&wx.getSystemInfoSync;(typeof my>"u"?"undefined":q(my))==="object"&&my.getSystemInfoSync;(typeof global>"u"||q(global))&&(typeof window>"u"||q(window));function Js(t){return!t||q(t)!=="object"?!1:t.nodeType===1&&t.nodeName?!0:!!t.isCanvasElement}function Ks(){return window&&window.devicePixelRatio||1}function rr(t,r){return t.currentStyle?t.currentStyle[r]:document.defaultView.getComputedStyle(t,null).getPropertyValue(r)}function Qs(t){var r=rr(t,"width");return r==="auto"&&(r=t.offsetWidth),parseFloat(r)}function to(t){var r=rr(t,"height");return r==="auto"&&(r=t.offsetHeight),parseFloat(r)}function eo(t){return t?document.getElementById(t):null}function Ba(t,r){var e=r.get("el");if(!e)return t;var n=e.getBoundingClientRect(),a=n.top,i=n.left,s=parseFloat(rr(e,"padding-left")),o=parseFloat(rr(e,"padding-top")),u=t.x-i-s,l=t.y-a-o;return{x:u,y:l}}function za(t,r){var e=r.get("landscape");if(!e)return t;if(j(e))return e(t,r);var n=r.get("height"),a=t.y,i=n-t.x;return{x:a,y:i}}function ro(t,r){var e=t.touches;if(!e){var n=Ba({x:t.clientX,y:t.clientY},r);return[za(n,r)]}e.length||(e=t.changedTouches||[]);for(var a=[],i=0,s=e.length;i<s;i++){var o=e[i],u=o.x,l=o.y,f=o.clientX,c=o.clientY,h=void 0;W(u)||W(l)?h={x:u,y:l}:h=Ba({x:f,y:c},r),a.push(za(h,r))}return a}function ao(t,r,e){return e||(e=document.createElement("canvas").getContext("2d")),e.font=r||"12px sans-serif",e.measureText(t)}var He=ro,Xa=function(r,e){var n=e.x-r.x,a=e.y-r.y;return Math.abs(n)>Math.abs(a)?n>0?"right":"left":a>0?"down":"up"},We=function(r,e){var n=Math.abs(e.x-r.x),a=Math.abs(e.y-r.y);return Math.sqrt(n*n+a*a)},no=function(r,e){var n=r.x+(e.x-r.x)/2,a=r.y+(e.y-r.y)/2;return{x:n,y:a}},Ha=250,io=function(){function t(r){var e=this,n=r.canvas,a=r.el;D(this,t),this._click=function(i){var s=He(i,e.canvas);i.points=s,e.emitEvent("click",i)},this._start=function(i){var s=He(i,e.canvas);s&&(i.points=s,e.emitEvent("touchstart",i),e.reset(),e.startTime=Date.now(),e.startPoints=s,s.length>1?(e.startDistance=We(s[0],s[1]),e.center=no(s[0],s[1])):e.pressTimeout=setTimeout(function(){var o="press",u="none";i.direction=u,e.emitStart(o,i),e.emitEvent(o,i),e.eventType=o,e.direction=u},Ha))},this._move=function(i){var s=He(i,e.canvas);if(s){e.clearPressTimeout(),i.points=s,e.emitEvent("touchmove",i);var o=e.startPoints;if(o)if(s.length>1){var u=e.startDistance,l=We(s[0],s[1]);i.zoom=l/u,i.center=e.center,e.emitStart("pinch",i),e.emitEvent("pinch",i)}else{var f=s[0].x-o[0].x,c=s[0].y-o[0].y,h=e.direction||Xa(o[0],s[0]);e.direction=h;var v=e.getEventType(s);i.direction=h,i.deltaX=f,i.deltaY=c,e.emitStart(v,i),e.emitEvent(v,i);var p=e.lastMoveTime,d=Date.now();d-p>0&&(e.prevMoveTime=p,e.prevMovePoints=e.lastMovePoints,e.lastMoveTime=d,e.lastMovePoints=s)}}},this._end=function(i){var s=He(i,e.canvas);i.points=s,e.emitEnd(i),e.emitEvent("touchend",i);var o=e.lastMoveTime,u=Date.now();if(u-o<100){var l=e.prevMoveTime||e.startTime,f=o-l;if(f>0){var c=e.prevMovePoints||e.startPoints,h=e.lastMovePoints,v=We(c[0],h[0])/f;v>.3&&(i.velocity=v,i.direction=Xa(c[0],h[0]),i.velocityX=(h[0].x-c[0].x)/f,i.velocityY=(h[0].y-c[0].y)/f,e.emitEvent("swipe",i))}}e.reset();var p=i.touches;p&&p.length>0&&e._start(i)},this._cancel=function(i){e.emitEvent("touchcancel",i),e.reset()},this.canvas=n,this.delegateEvent(a),this.processEvent={}}return T(t,[{key:"delegateEvent",value:function(e){e.addEventListener("click",this._click),e.addEventListener("touchstart",this._start),e.addEventListener("touchmove",this._move),e.addEventListener("touchend",this._end),e.addEventListener("touchcancel",this._cancel)}},{key:"emitEvent",value:function(e,n){var a=this.canvas;a.emit(e,n)}},{key:"getEventType",value:function(e){var n=this.eventType,a=this.canvas,i=this.startTime,s=this.startPoints;if(n)return n;var o,u=a.__events.pan;if(!u||!u.length)o="press";else{var l=Date.now();l-i>Ha&&We(s[0],e[0])<10?o="press":o="pan"}return this.eventType=o,o}},{key:"enable",value:function(e){this.processEvent[e]=!0}},{key:"isProcess",value:function(e){return this.processEvent[e]}},{key:"emitStart",value:function(e,n){this.isProcess(e)||(this.enable(e),this.emitEvent("".concat(e,"start"),n))}},{key:"emitEnd",value:function(e){var n=this,a=this.processEvent;Object.keys(a).forEach(function(i){n.emitEvent("".concat(i,"end"),e),delete a[i]})}},{key:"clearPressTimeout",value:function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}},{key:"reset",value:function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.pinch=!1,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null}}]),t}();const so=io;var oo=function(t){N(e,t);var r=E(e);function e(n){var a;D(this,e),a=r.call(this),a.context=n;var i=n.canvas||{};return a.width=i.width||0,a.height=i.height||0,a.style={},a.currentStyle={},a.attrs={},a.isCanvasElement=!0,a}return T(e,[{key:"getContext",value:function(){return this.context}},{key:"getBoundingClientRect",value:function(){var a=this.width,i=this.height;return{top:0,right:a,bottom:i,left:0}}},{key:"setAttribute",value:function(a,i){this.attrs[a]=i}},{key:"addEventListener",value:function(a,i){this.on(a,i)}},{key:"removeEventListener",value:function(a,i){this.off(a,i)}},{key:"dispatchEvent",value:function(a,i){this.emit(a,i)}}]),e}(Qn);function uo(t){if(!t||t.nodeType!==1||!t.nodeName||t.nodeName.toLowerCase()!=="canvas")return!1;var r=!1;try{t.addEventListener("eventTest",function(){r=!0}),t.dispatchEvent(new Event("eventTest"))}catch{r=!1}return r}const lo={create:function(r){return r?uo(r.canvas)?r.canvas:new oo(r):null}};function ti(t,r){if(t){var e=t.indexOf(r);e!==-1&&t.splice(e,1)}}function fo(t,r){return(t%r+r)%r}function ei(t,r){F(t,function(e){e=e.split(":"),r.addColorStop(Number(e[0]),e[1])})}function co(t,r,e){var n=t.split(" "),a=n[0].slice(2,n[0].length-1);a=fo(parseFloat(a)*Math.PI/180,Math.PI*2);var i=n.slice(1),s=r.getBBox(),o=s.minX,u=s.minY,l=s.maxX,f=s.maxY,c,h;a>=0&&a<.5*Math.PI?(c={x:o,y:u},h={x:l,y:f}):.5*Math.PI<=a&&a<Math.PI?(c={x:l,y:u},h={x:o,y:f}):Math.PI<=a&&a<1.5*Math.PI?(c={x:l,y:f},h={x:o,y:u}):(c={x:o,y:f},h={x:l,y:u});var v=Math.tan(a),p=v*v,d=(h.x-c.x+v*(h.y-c.y))/(p+1)+c.x,y=v*(h.x-c.x+v*(h.y-c.y))/(p+1)+c.y,g=e.createLinearGradient(c.x,c.y,d,y);return ei(i,g),g}function ho(t,r,e){var n=t.split(" "),a=n[0].slice(2,n[0].length-1);a=a.split(",");var i=parseFloat(a[0]),s=parseFloat(a[1]),o=parseFloat(a[2]),u=n.slice(1);if(o===0){var l=u[u.length-1];return l.split(":")[1]}var f=r.getBBox(),c=f.width,h=f.height,v=f.minX,p=f.minY,d=Math.sqrt(c*c+h*h)/2,y=e.createRadialGradient(v+c*i,p+h*s,o*d,v+c/2,p+h/2,d);return ei(u,y),y}function vo(t,r,e){if(t[1]==="(")try{var n=t[0];if(n==="l")return co(t,r,e);if(n==="r")return ho(t,r,e)}catch(a){console.error("error in parsing gradient string, please check if there are any extra whitespaces."),console.error(a)}return t}var po={stroke:"strokeStyle",fill:"fillStyle",opacity:"globalAlpha"},yo=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","shadow"],go=["circle","sector","polygon","rect","polyline","custom"],mo=function(){function t(r){D(this,t),this._initProperties(),X(this._attrs,r);var e=this._attrs.attrs;e&&this.initAttrs(e),this.initTransform()}return T(t,[{key:"_initProperties",value:function(){this._attrs=_(_({},this._attrs),{},{zIndex:0,visible:!0,destroyed:!1})}},{key:"get",value:function(e){return this._attrs[e]}},{key:"set",value:function(e,n){this._attrs[e]=n}},{key:"isGroup",value:function(){return this.get("isGroup")}},{key:"isShape",value:function(){return this.get("isShape")}},{key:"initAttrs",value:function(e){this.attr(X(this.getDefaultAttrs(),e))}},{key:"getDefaultAttrs",value:function(){return{}}},{key:"_setAttr",value:function(e,n){var a=this._attrs.attrs;if(e==="clip")n=this._setAttrClip(n);else{var i=po[e];i&&(a[i]=n)}a[e]=n}},{key:"_getAttr",value:function(e){var n,a;return(n=this._attrs)===null||n===void 0||(a=n.attrs)===null||a===void 0?void 0:a[e]}},{key:"_afterAttrsSet",value:function(){}},{key:"_setAttrClip",value:function(e){return e&&go.indexOf(e._attrs.type)>-1?(e.get("canvas")===null&&(e=_({},e)),e.set("parent",this.get("parent")),e.set("context",this.get("context")),e):null}},{key:"attr",value:function(e,n){if(this.get("destroyed"))return null;var a=arguments.length;if(a===0)return this._attrs.attrs;if(ye(e)){this._attrs.bbox=null;for(var i in e)this._setAttr(i,e[i]);return this._afterAttrsSet&&this._afterAttrsSet(),this}return a===2?(this._attrs.bbox=null,this._setAttr(e,n),this._afterAttrsSet&&this._afterAttrsSet(),this):this._getAttr(e)}},{key:"getParent",value:function(){return this.get("parent")}},{key:"draw",value:function(e){this.get("destroyed")||this.get("visible")&&(this.setContext(e),this.drawInner(e),this.restoreContext(e))}},{key:"setContext",value:function(e){var n=this._attrs.attrs.clip;e.save(),n&&!n._attrs.destroyed&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(e),this.resetTransform(e)}},{key:"restoreContext",value:function(e){e.restore()}},{key:"resetContext",value:function(e){var n=this._attrs.attrs;for(var a in n)if(yo.indexOf(a)>-1){var i=n[a];(a==="fillStyle"||a==="strokeStyle")&&i&&(i=vo(i,this,e)),a==="lineDash"&&e.setLineDash&&P(i)?e.setLineDash(i):e[a]=i}}},{key:"hasFill",value:function(){return this.get("canFill")&&this._attrs.attrs.fillStyle}},{key:"hasStroke",value:function(){return this.get("canStroke")&&this._attrs.attrs.strokeStyle}},{key:"drawInner",value:function(e){}},{key:"show",value:function(){return this.set("visible",!0),this}},{key:"hide",value:function(){return this.set("visible",!1),this}},{key:"isVisible",value:function(){return this.get("visible")}},{key:"getAriaLabel",value:function(){var e=this._attrs,n=e.destroyed,a=e.visible,i=e.isShape,s=e.aria;if(!(n||!a||i&&!s))return this._getAriaLabel()}},{key:"_getAriaLabel",value:function(){return this._attrs.ariaLabel}},{key:"_removeFromParent",value:function(){var e=this.get("parent");if(e){var n=e.get("children");ti(n,this)}return this}},{key:"remove",value:function(e){e?this.destroy():this._removeFromParent()}},{key:"destroy",value:function(){var e=this.get("destroyed");if(e)return null;this._removeFromParent();var n=this._attrs.attrs;this._attrs={attrs:n},this.set("destroyed",!0)}},{key:"getBBox",value:function(){return{minX:0,maxX:0,minY:0,maxY:0,width:0,height:0}}},{key:"initTransform",value:function(){var e=this._attrs.attrs;e||(e={}),e.matrix||(e.matrix=[1,0,0,1,0,0]),this._attrs.attrs=e}},{key:"getMatrix",value:function(){return this._attrs.attrs.matrix}},{key:"setMatrix",value:function(e){this._attrs.attrs.matrix=[e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"transform",value:function(e){var n=this._attrs.attrs.matrix;return this._attrs.attrs.matrix=le.transform(n,e),this}},{key:"setTransform",value:function(e){return this._attrs.attrs.matrix=[1,0,0,1,0,0],this.transform(e)}},{key:"translate",value:function(e,n){var a=this._attrs.attrs.matrix;le.translate(a,a,[e,n])}},{key:"rotate",value:function(e){var n=this._attrs.attrs.matrix;le.rotate(n,n,e)}},{key:"scale",value:function(e,n){var a=this._attrs.attrs.matrix;le.scale(a,a,[e,n])}},{key:"moveTo",value:function(e,n){var a=this._attrs.x||0,i=this._attrs.y||0;this.translate(e-a,n-i),this.set("x",e),this.set("y",n)}},{key:"apply",value:function(e){var n=this._attrs.attrs.matrix;return L.transformMat2d(e,e,n),this}},{key:"resetTransform",value:function(e){var n=this._attrs.attrs.matrix;le.isChanged(n)&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}},{key:"isDestroyed",value:function(){return this.get("destroyed")}}]),t}();const xo=mo;var _o=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){this._attrs=_(_({},this._attrs),{},{zIndex:0,visible:!0,destroyed:!1,isShape:!0,attrs:{}})}},{key:"getType",value:function(){return this._attrs.type}},{key:"drawInner",value:function(a){var i=this.get("attrs");this.createPath(a);var s=a.globalAlpha;if(this.hasFill()){var o=i.fillOpacity;!w(o)&&o!==1?(a.globalAlpha=o,a.fill(),a.globalAlpha=s):a.fill()}if(this.hasStroke()){var u=i.lineWidth;if(u>0){var l=i.strokeOpacity;!w(l)&&l!==1&&(a.globalAlpha=l),a.stroke()}}}},{key:"getBBox",value:function(){var a=this._attrs.bbox;return a||(a=this.calculateBox(),a&&(a.x=a.minX,a.y=a.minY,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY),this._attrs.bbox=a),a}},{key:"calculateBox",value:function(){return null}},{key:"createPath",value:function(a){}}]),e}(xo);const B=_o;function wo(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&(t=Y(t),t!==null););return t}function $(){return typeof Reflect<"u"&&Reflect.get?$=Reflect.get.bind():$=function(r,e,n){var a=wo(r,e);if(a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(arguments.length<3?r:n):i.value}},$.apply(this,arguments)}function Mo(t){var r=0,e=0,n=0,a=0;return W(t)?r=n=a=e=t:P(t)&&(r=t[0],e=w(t[1])?t[0]:t[1],n=w(t[2])?t[0]:t[2],a=w(t[3])?e:t[3]),[r,e,n,a]}function ko(t,r,e){if(t=Mo(t),!t[0]&&!t[1]&&!t[2]&&!t[3])return t;var n=Math.max(t[0]+t[1],t[2]+t[3]),a=Math.max(t[0]+t[3],t[1]+t[2]),i=Math.min(r/n,e/a);return i<1?t.map(function(s){return s*i}):t}var So=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="rect"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,width:0,height:0,radius:0,lineWidth:0}}},{key:"createRadiusPath",value:function(a,i,s,o,u,l){l=ko(l,o,u),a.moveTo(i+l[0],s),a.lineTo(i+o-l[1],s),a.arc(i+o-l[1],s+l[1],l[1],-Math.PI/2,0,!1),a.lineTo(i+o,s+u-l[2]),a.arc(i+o-l[2],s+u-l[2],l[2],0,Math.PI/2,!1),a.lineTo(i+l[3],s+u),a.arc(i+l[3],s+u-l[3],l[3],Math.PI/2,Math.PI,!1),a.lineTo(i,s+l[0]),a.arc(i+l[0],s+l[0],l[0],Math.PI,Math.PI*3/2,!1),a.closePath()}},{key:"createPath",value:function(a){var i=this.get("attrs"),s=i.x,o=i.y,u=i.width,l=i.height,f=i.radius;a.beginPath(),!f||!(u*l)?a.rect(s,o,u,l):this.createRadiusPath(a,s,o,u,l,f)}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,s=a.y,o=a.width,u=a.height;return{minX:i,minY:s,maxX:i+o,maxY:s+u}}}]),e}(B);const ya=So;var Rr={},bo=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!1,this._attrs.canStroke=!1,this._attrs.loading=!1,this._attrs.image=null,this._attrs.type="image"}},{key:"draw",value:function(a){var i=this;if(!this.get("loading")){var s=this.get("image");if(s){$(Y(e.prototype),"draw",this).call(this,a);return}var o=this.get("attrs"),u=o.src;if(u){var l=this.get("cacheImage");if(l&&Rr[u]){this.set("image",Rr[u]),this.draw(a);return}var f=null,c=this.get("canvas");if(c&&c.get("createImage")){var h=c.get("createImage");f=h()}else window.Image&&(f=new Image);f&&(this.set("loading",!0),f.crossOrigin="",f.onload=function(){i.set("loading",!1),i.set("image",f),c.draw()},f.src=u,l&&(Rr[u]=f))}}}},{key:"createPath",value:function(a){var i=this.get("image");this.drawImage(a,i)}},{key:"drawImage",value:function(a,i){var s=this._attrs,o=s.attrs,u=s.destroyed;if(!u){var l=o.x,f=o.y,c=o.width,h=o.height,v=o.sx,p=o.sy,d=o.swidth,y=o.sheight,g=o.radius,x=o.fillOpacity;g&&(a.save(),this.createRadiusPath(a,l,f,c,h,g),a.clip());var M=a.globalAlpha;w(x)||(a.globalAlpha=x),!w(v)&&!w(p)&&!w(d)&&!w(y)?a.drawImage(i,v,p,d,y,l,f,c,h):a.drawImage(i,l,f,c,h),a.globalAlpha=M,g&&a.restore()}}}]),e}(ya);const Co=bo;var Po=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="circle"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,r:0,lineWidth:0}}},{key:"createPath",value:function(a){var i=this.get("attrs"),s=i.x,o=i.y,u=i.r;a.beginPath(),a.arc(s,o,u,0,Math.PI*2,!1),a.closePath()}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,s=a.y,o=a.r;return{minX:i-o,maxX:i+o,minY:s-o,maxY:s+o}}}]),e}(B);const Ao=Po;var To=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canStroke=!0,this._attrs.type="line"}},{key:"getDefaultAttrs",value:function(){return{x1:0,y1:0,x2:0,y2:0,lineWidth:1}}},{key:"createPath",value:function(a){var i=this.get("attrs"),s=i.x1,o=i.y1,u=i.x2,l=i.y2;a.beginPath(),a.moveTo(s,o),a.lineTo(u,l)}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x1,s=a.y1,o=a.x2,u=a.y2,l=a.lineWidth;return Gs(i,s,o,u,l)}}]),e}(B);const Do=To;var Io=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polygon"}},{key:"getDefaultAttrs",value:function(){return{points:null,lineWidth:0}}},{key:"createPath",value:function(a){var i=this.get("attrs"),s=i.points;a.beginPath();for(var o=0,u=s.length;o<u;o++){var l=s[o];o===0?a.moveTo(l.x,l.y):a.lineTo(l.x,l.y)}a.closePath()}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.points;return Kn(i)}}]),e}(B);const Ro=Io;function Wa(t){for(var r=[],e=0,n=t.length;e<n;e++){var a=t[e];!isNaN(a.x)&&!isNaN(a.y)&&r.push(a)}return r}var Oo=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polyline"}},{key:"getDefaultAttrs",value:function(){return{points:null,lineWidth:1,smooth:!1}}},{key:"createPath",value:function(a){var i=this.get("attrs"),s=i.points,o=i.smooth,u=Wa(s);if(a.beginPath(),u.length)if(a.moveTo(u[0].x,u[0].y),o)for(var l=[[0,0],[1,1]],f=Fa(u,!1,l),c=0,h=f.length;c<h;c++){var v=f[c];a.bezierCurveTo(v[1],v[2],v[3],v[4],v[5],v[6])}else{var p,d;for(p=1,d=u.length-1;p<d;p++)a.lineTo(u[p].x,u[p].y);a.lineTo(u[d].x,u[d].y)}}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.points,s=a.smooth,o=a.lineWidth,u=Wa(i);if(s){for(var l=[],f=[[0,0],[1,1]],c=Fa(u,!1,f),h=0,v=c.length;h<v;h++){var p=c[h];if(h===0)l.push([u[0].x,u[0].y,p[1],p[2],p[3],p[4],p[5],p[6]]);else{var d=c[h-1];l.push([d[5],d[6],p[1],p[2],p[3],p[4],p[5],p[6]])}}return Us(l,o)}return Kn(u,o)}}]),e}(B);const Lo=Oo;var Yo=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canStroke=!0,this._attrs.canFill=!0,this._attrs.type="arc"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:Math.PI*2,anticlockwise:!1,lineWidth:1}}},{key:"createPath",value:function(a){var i=this.get("attrs"),s=i.x,o=i.y,u=i.r,l=i.startAngle,f=i.endAngle,c=i.anticlockwise;a.beginPath(),l!==f&&a.arc(s,o,u,l,f,c)}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,s=a.y,o=a.r,u=a.startAngle,l=a.endAngle,f=a.anticlockwise;return Jr(i,s,o,u,l,f)}}]),e}(B);const No=Yo;var Eo=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="sector"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,lineWidth:0,r:0,r0:0,startAngle:0,endAngle:Math.PI*2,anticlockwise:!1}}},{key:"createPath",value:function(a){var i=this.get("attrs"),s=i.x,o=i.y,u=i.startAngle,l=i.r,f=i.r0,c=i.anticlockwise,h=Math.min(i.endAngle,u+Math.PI*2);a.beginPath();var v=Math.cos(u),p=Math.sin(u);a.moveTo(v*f+s,p*f+o),a.lineTo(v*l+s,p*l+o),(Math.abs(h-u)>1e-4||u===0&&h<0)&&(a.arc(s,o,l,u,h,c),a.lineTo(Math.cos(h)*f+s,Math.sin(h)*f+o),f!==0&&a.arc(s,o,f,h,u,!c)),a.closePath()}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,s=a.y,o=a.r,u=a.r0,l=a.startAngle,f=a.endAngle,c=a.anticlockwise,h=Jr(i,s,o,l,f,c),v=Jr(i,s,u,l,f,c);return{minX:Math.min(h.minX,v.minX),minY:Math.min(h.minY,v.minY),maxX:Math.max(h.maxX,v.maxX),maxY:Math.max(h.maxY,v.maxY)}}}]),e}(B);const Fo=Eo;var $o={calcRotatedBox:function(r){var e=r.width,n=r.height,a=r.rotate,i=Math.abs(a);return{width:Math.abs(e*Math.cos(i)+n*Math.sin(i)),height:Math.abs(n*Math.cos(i)+e*Math.sin(i))}}};const jo=$o;var Va=ao,Or=0,Ve={},Bo=5e3,zo=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="text"}},{key:"getDefaultAttrs",value:function(){return{lineWidth:0,lineCount:1,fontSize:12,fontFamily:"",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null}}},{key:"_getFontStyle",value:function(){var a=this._attrs.attrs,i=a.fontSize,s=a.fontFamily,o=a.fontWeight,u=a.fontStyle,l=a.fontVariant;return"".concat(u," ").concat(l," ").concat(o," ").concat(i,"px ").concat(s)}},{key:"_afterAttrsSet",value:function(){var a=this._attrs.attrs;if(a.font=this._getFontStyle(),a.text){var i=a.text,s=null,o=1;Q(i)&&i.indexOf(`
`)!==-1&&(s=i.split(`
`),o=s.length),a.lineCount=o,a.textArr=s}this.set("attrs",a)}},{key:"_getTextHeight",value:function(){var a=this._attrs.attrs;if(a.height)return a.height;var i=a.lineCount,s=a.fontSize*1;if(i>1){var o=this._getSpaceingY();return s*i+o*(i-1)}return s}},{key:"_getSpaceingY",value:function(){var a=this._attrs.attrs,i=a.lineHeight,s=a.fontSize*1;return i?i-s:s*.14}},{key:"drawInner",value:function(a){var i=this._attrs.attrs,s=i.text,o=i.x,u=i.y;if(!(w(s)||isNaN(o)||isNaN(u))){var l=i.textArr,f=i.fontSize*1,c=this._getSpaceingY();i.rotate&&(a.translate(o,u),a.rotate(i.rotate),o=0,u=0);var h=i.textBaseline,v;l&&(v=this._getTextHeight());var p;if(this.hasFill()){var d=i.fillOpacity;if(!w(d)&&d!==1&&(a.globalAlpha=d),l)for(var y=0,g=l.length;y<g;y++){var x=l[y];p=u+y*(c+f)-v+f,h==="middle"&&(p+=v-f-(v-f)/2),h==="top"&&(p+=v-f),a.fillText(x,o,p)}else a.fillText(s,o,u)}if(this.hasStroke())if(l)for(var M=0,k=l.length;M<k;M++){var S=l[M];p=u+M*(c+f)-v+f,h==="middle"&&(p+=v-f-(v-f)/2),h==="top"&&(p+=v-f),a.strokeText(S,o,p)}else a.strokeText(s,o,u)}}},{key:"_getAriaLabel",value:function(){return this._attrs.attrs.text}},{key:"calculateBox",value:function(){var a=this._attrs.attrs,i=a.x,s=a.y,o=a.textAlign,u=a.textBaseline,l=this._getTextWidth();if(!l)return{minX:i,minY:s,maxX:i,maxY:s};var f=this._getTextHeight();if(a.rotate){var c=jo.calcRotatedBox({width:l,height:f,rotate:a.rotate});l=c.width,f=c.height}var h={x:i,y:s-f};return o&&(o==="end"||o==="right"?h.x-=l:o==="center"&&(h.x-=l/2)),u&&(u==="top"?h.y+=f:u==="middle"&&(h.y+=f/2)),{minX:h.x,minY:h.y,maxX:h.x+l,maxY:h.y+f}}},{key:"_getTextWidth",value:function(){var a=this._attrs.attrs;if(a.width)return a.width;var i=a.text,s=this.get("context");if(!w(i)){var o=a.font,u=a.textArr,l=i+""+o;if(Ve[l])return Ve[l];var f=0;if(u)for(var c=0,h=u.length;c<h;c++){var v=u[c];f=Math.max(f,Va(v,o,s).width)}else f=Va(i,o,s).width;return Or>Bo&&(Or=0,Ve={}),Or++,Ve[l]=f,f}}}]),e}(B);const Xo=zo;var Ho=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.createPath=null,this._attrs.type="custom"}},{key:"createPath",value:function(a){var i=this.get("createPath");i&&i.call(this,a)}},{key:"calculateBox",value:function(){var a=this.get("calculateBox");return a&&a.call(this)}}]),e}(B);const Wo=Ho;var Vo={circle:function(r,e,n,a){a.arc(r,e,n,0,Math.PI*2,!1)},square:function(r,e,n,a){a.moveTo(r-n,e-n),a.lineTo(r+n,e-n),a.lineTo(r+n,e+n),a.lineTo(r-n,e+n),a.closePath()}},qo=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){$(Y(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="marker"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,lineWidth:0}}},{key:"createPath",value:function(a){var i=this.get("attrs"),s=i.x,o=i.y,u=i.radius,l=i.symbol||"circle",f;j(l)?f=l:f=Vo[l],a.beginPath(),f(s,o,u,a,this)}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,s=a.y,o=a.radius;return{minX:i-o,minY:s-o,maxX:i+o,maxY:s+o}}}]),e}(B);const Go=qo;B.Rect=ya;B.Image=Co;B.Circle=Ao;B.Line=Do;B.Polygon=Ro;B.Polyline=Lo;B.Arc=No;B.Sector=Fo;B.Text=Xo;B.Custom=Wo;B.Marker=Go;var qa={},Kr="_INDEX";function Uo(t){return function(r,e){var n=t(r,e);return n===0?r[Kr]-e[Kr]:n}}const ri={getGroupClass:function(){},getChildren:function(){return this.get("children")},addShape:function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=qa[r];n||(n=Ae(r),qa[r]=n);var a=new B[n](e);return this.add(a),a},addGroup:function(r){var e=this.getGroupClass(),n=new e(r);return this.add(n),n},contain:function(r){var e=this.get("children");return e.indexOf(r)>-1},sort:function(){for(var r=this.get("children"),e=0,n=r.length;e<n;e++){var a=r[e];a[Kr]=e}return r.sort(Uo(function(i,s){return i.get("zIndex")-s.get("zIndex")})),this},drawChildren:function(r){this.sort();for(var e=this.get("children"),n=0,a=e.length;n<a;n++){var i=e[n];i.draw(r)}return this},clear:function(){for(var r=this.get("children")||[];r.length!==0;)r[r.length-1].remove(!0);return this},add:function(r){var e=this.get("children");e||(e=[],this.set("children",e)),P(r)||(r=[r]);for(var n=0,a=r.length;n<a;n++){var i=r[n],s=i.get("parent");if(s){var o=s.get("children");ti(o,i)}this._setEvn(i),e.push(i)}return this},_setEvn:function(r){var e,n,a=this._attrs,i=a.context,s=a.canvas,o=a.aria,u=r._attrs,l=u.isGroup,f=u.type;r._attrs.parent=this,r._attrs.context=i,r._attrs.canvas=s,o&&r._attrs.aria!==!1&&(r._attrs.aria=o),f==="text"&&s&&s.get("fontFamily")&&!(!((e=r._attrs.attrs)===null||e===void 0)&&e.fontFamily)&&r.attr("fontFamily",s.get("fontFamily"));var c=(n=r._attrs.attrs)===null||n===void 0?void 0:n.clip;if(c&&(c._attrs.parent=this,c._attrs.context=i,c._attrs.canvas=s),l)for(var h=r._attrs.children,v=0,p=h.length;v<p;v++)r._setEvn(h[v])},_getAriaLabel:function(){var r=this._attrs,e=r.aria,n=r.ariaLabel,a=r.children;if(e){var i=[];if(a&&a.length)for(var s=0,o=a.length;s<o;s++){var u=a[s].getAriaLabel();u&&i.push(u)}var l=i.join(" ");return n&&l?"".concat(n," ").concat(l," "):n||l}}};var Qr=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"_initProperties",value:function(){this._attrs={type:"group",zIndex:0,visible:!0,destroyed:!1,isGroup:!0,canFill:!0,canStroke:!0,children:[],attrs:{x:0,y:0,width:0,height:0,radius:0,lineWidth:0}}}},{key:"getBBox",value:function(){for(var a=1/0,i=-1/0,s=1/0,o=-1/0,u=this.get("children"),l=0,f=u.length;l<f;l++){var c=u[l];if(c.get("visible")){var h=c.getBBox();if(!h)continue;var v=[h.minX,h.minY],p=[h.minX,h.maxY],d=[h.maxX,h.minY],y=[h.maxX,h.maxY],g=c.attr("matrix");L.transformMat2d(v,v,g),L.transformMat2d(p,p,g),L.transformMat2d(d,d,g),L.transformMat2d(y,y,g),a=Math.min(v[0],p[0],d[0],y[0],a),i=Math.max(v[0],p[0],d[0],y[0],i),s=Math.min(v[1],p[1],d[1],y[1],s),o=Math.max(v[1],p[1],d[1],y[1],o)}}return{minX:a,minY:s,maxX:i,maxY:o,x:a,y:s,width:i-a,height:o-s}}},{key:"createPath",value:function(a){var i=this.get("attrs");!i.fillStyle&&!i.strokeStyle||$(Y(e.prototype),"createPath",this).call(this,a)}},{key:"drawInner",value:function(a){$(Y(e.prototype),"drawInner",this).call(this,a),this.drawChildren(a)}},{key:"destroy",value:function(){this.get("destroyed")||(this.clear(),$(Y(e.prototype),"destroy",this).call(this))}}]),e}(ya);X(Qr.prototype,ri,{getGroupClass:function(){return Qr}});const ai=Qr;var Zo=(typeof window>"u"?"undefined":q(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)};const Ga={general:{title:"这是一个图表，",withTitle:"这是一个关于“{title}”的图表。"},coord:{cartesian:"X轴是{xLabel}Y轴是{yLabel}"},scale:{linear:"数值型，数据最小值为{min}，最大值为{max}；",cat:"分类型, 分类类型有：{values}；",timeCat:"时间型，时间范围从{start}到{end}；"},geometry:{prefix:"共有{count}种分类组成，",oneData:"第{index}类是{name}，数据是{values};",partData:"第{index}类是{name}，共有{count}项数据，前{part}项是{values};",allData:"第{index}类是{name}，有{count}项数据，分别是{values};"},legend:{prefix:"图例分类有："}};var Jo=Ks,Ko=eo,Qo=Qs,tu=to,eu=Js,ni=function(t){N(e,t);var r=E(e);function e(n){var a;D(this,e),a=r.call(this);var i=n.title,s=i?ks(Ga.general.withTitle,{title:i}):Ga.general.title;return a._attrs=X({type:"canvas",children:[],ariaLabel:s},n),a._initPixelRatio(),a._initCanvas(),a}return T(e,[{key:"get",value:function(a){return this._attrs[a]}},{key:"set",value:function(a,i){this._attrs[a]=i}},{key:"_initPixelRatio",value:function(){var a=this.get("pixelRatio");a||this.set("pixelRatio",Jo())}},{key:"beforeDraw",value:function(){var a=this._attrs.context,i=this._attrs.el;a&&a.clearRect&&a.clearRect(0,0,i.width,i.height)}},{key:"_initCanvas",value:function(){var a=this.get("el"),i=this.get("context");if(!a&&!i)throw new Error("Please specify the id, el or context of the chart!");var s;a?s=Q(a)?Ko(a):a:s=lo.create(i),i&&s&&!s.getContext&&(s.getContext=function(){return i});var o=this.get("width")||Qo(s)||s.width,u=this.get("height")||tu(s)||s.height;this.set("canvas",this),this.set("el",s),this.set("context",i||s.getContext("2d")),this.changeSize(o,u);var l=new so({canvas:this,el:s});this.set("eventController",l)}},{key:"changeSize",value:function(a,i){var s=this.get("pixelRatio"),o=this.get("el");if(o.style&&(o.style.width=a+"px",o.style.height=i+"px"),eu(o)&&(o.width=a*s,o.height=i*s,s!==1)){var u=this.get("context");u.scale(s,s)}this.set("width",a),this.set("height",i)}},{key:"getWidth",value:function(){var a=this.get("pixelRatio"),i=this.get("width");return i*a}},{key:"getHeight",value:function(){var a=this.get("pixelRatio"),i=this.get("height");return i*a}},{key:"getPointByClient",value:function(a,i){var s=this.get("el"),o=s.getBoundingClientRect(),u=o.right-o.left,l=o.bottom-o.top;return{x:(a-o.left)*(s.width/u),y:(i-o.top)*(s.height/l)}}},{key:"_beginDraw",value:function(){this._attrs.toDraw=!0}},{key:"_endDraw",value:function(){this._attrs.toDraw=!1}},{key:"draw",value:function(){var a=this,i=function s(){a.set("animateHandler",Zo(function(){a.set("animateHandler",void 0),a.get("toDraw")&&s()})),a.beforeDraw();try{var o=a._attrs.context;a.drawChildren(o),o.draw&&o.draw(),a.setAriaLabel()}catch(u){console.warn("error in draw canvas, detail as:"),console.warn(u),a._endDraw()}a._endDraw()};this.get("destroyed")||(this.get("animateHandler")?this._beginDraw():i())}},{key:"setAriaLabel",value:function(){var a=this._attrs.el,i=this._getAriaLabel();i&&a.setAttribute&&a.setAttribute("aria-label",i)}},{key:"destroy",value:function(){if(!this.get("destroyed")){var a=this.get("el");a.width=0,a.height=0,this.clear(),this._attrs={},this.set("destroyed",!0)}}},{key:"isDestroyed",value:function(){return this.get("destroyed")}}]),e}(Qn);X(ni.prototype,ri,{getGroupClass:function(){return ai}});const ru=ni;var au={};function nu(t){var r=au[t];return r||{Canvas:ru,Group:ai,Shape:B}}function iu(t){var r=t.renderer,e=nu(r);return new e.Canvas(t)}var su=["key","ref"];function V(t,r){for(var e=r||{},n=e.key,a=e.ref,i=$t(e,su),s=arguments.length,o=new Array(s>2?s-2:0),u=2;u<s;u++)o[u-2]=arguments[u];return o.length&&(i.children=o.length===1?o[0]:o),{key:n,ref:a,type:t,props:i,_cache:{}}}var ta;try{ta=parseInt(document.documentElement.style.fontSize,10)||50}catch{ta=50}var ou=ta/100;function uu(t){return t?Number((t*ou).toFixed(1)):0}function lu(t){if(W(t))return[t,t,t,t];var r=t[0],e=W(t[1])?t[1]:t[0],n=W(t[2])?t[2]:r,a=W(t[3])?t[3]:e;return[r,e,n,a]}function ii(t){var r=function e(n){if(Q(n)&&/^-?\d+px$/.test(n)){var a=n.substr(0,n.length-2);return t(Number(a))}if(P(n))return n.map(function(l){return e(l)});if(ve(n)){var i={};for(var s in n)if(n.hasOwnProperty(s)){var o=e(n[s]);if(!o){i[s]=o;continue}if(s==="padding"||s==="margin"){var u=lu(o);i[s]=u,i["".concat(s,"Top")]=u[0],i["".concat(s,"Right")]=u[1],i["".concat(s,"Bottom")]=u[2],i["".concat(s,"Left")]=u[3];continue}i[s]=o}return i}return n};return r}function si(t,r){if(!t)return t;if(!P(t))return[r(t)];for(var e=[],n=0;n<t.length;n++){var a=t[n];P(a)?e=e.concat(si(a,r)):a&&e.push(r(a))}return e}function Lr(t){return Q(t)&&(t.indexOf("T")>0?t=new Date(t).getTime():t=new Date(t.replace(/-/gi,"/")).getTime()),da(t)&&(t=t.getTime()),t}var oi=ii(uu),qe,Ua="inherit",ui="ltr",fu="rtl",qt="row",Te="row-reverse",Nt="column",ea="column-reverse",Za="flex-start",Ja="center",cu="flex-end",hu="space-between",vu="space-around",Yr="flex-start",Nr="center",Ka="flex-end",_e="stretch",bt="relative",Er="absolute",K={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},yt={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},ft={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},I={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function li(t){return(!t.layout||t.isDirty)&&(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(li),t}function St(t){return t===void 0}function Qt(t){return t===qt||t===Te}function pu(t){return t===Nt||t===ea}function Ht(t,r){if(t.style.marginStart!==void 0&&Qt(r))return t.style.marginStart;var e=null;switch(r){case"row":e=t.style.marginLeft;break;case"row-reverse":e=t.style.marginRight;break;case"column":e=t.style.marginTop;break;case"column-reverse":e=t.style.marginBottom;break}return e!==void 0?e:t.style.margin!==void 0?t.style.margin:0}function Je(t,r){if(t.style.marginEnd!==void 0&&Qt(r))return t.style.marginEnd;var e=null;switch(r){case"row":e=t.style.marginRight;break;case"row-reverse":e=t.style.marginLeft;break;case"column":e=t.style.marginBottom;break;case"column-reverse":e=t.style.marginTop;break}return e??(t.style.margin!==void 0?t.style.margin:0)}function du(t,r){if(t.style.paddingStart!==void 0&&t.style.paddingStart>=0&&Qt(r))return t.style.paddingStart;var e=null;switch(r){case"row":e=t.style.paddingLeft;break;case"row-reverse":e=t.style.paddingRight;break;case"column":e=t.style.paddingTop;break;case"column-reverse":e=t.style.paddingBottom;break}return e!=null&&e>=0?e:t.style.padding!==void 0&&t.style.padding>=0?t.style.padding:0}function yu(t,r){if(t.style.paddingEnd!==void 0&&t.style.paddingEnd>=0&&Qt(r))return t.style.paddingEnd;var e=null;switch(r){case"row":e=t.style.paddingRight;break;case"row-reverse":e=t.style.paddingLeft;break;case"column":e=t.style.paddingBottom;break;case"column-reverse":e=t.style.paddingTop;break}return e!=null&&e>=0?e:t.style.padding!==void 0&&t.style.padding>=0?t.style.padding:0}function ar(t,r){if(t.style.borderStartWidth!==void 0&&t.style.borderStartWidth>=0&&Qt(r))return t.style.borderStartWidth;var e=null;switch(r){case"row":e=t.style.borderLeftWidth;break;case"row-reverse":e=t.style.borderRightWidth;break;case"column":e=t.style.borderTopWidth;break;case"column-reverse":e=t.style.borderBottomWidth;break}return e!=null&&e>=0?e:t.style.borderWidth!==void 0&&t.style.borderWidth>=0?t.style.borderWidth:0}function fi(t,r){if(t.style.borderEndWidth!==void 0&&t.style.borderEndWidth>=0&&Qt(r))return t.style.borderEndWidth;var e=null;switch(r){case"row":e=t.style.borderRightWidth;break;case"row-reverse":e=t.style.borderLeftWidth;break;case"column":e=t.style.borderBottomWidth;break;case"column-reverse":e=t.style.borderTopWidth;break}return e!=null&&e>=0?e:t.style.borderWidth!==void 0&&t.style.borderWidth>=0?t.style.borderWidth:0}function ra(t,r){return du(t,r)+ar(t,r)}function ci(t,r){return yu(t,r)+fi(t,r)}function gu(t,r){return ar(t,r)+fi(t,r)}function dt(t,r){return Ht(t,r)+Je(t,r)}function tt(t,r){return ra(t,r)+ci(t,r)}function mu(t){return t.style.justifyContent?t.style.justifyContent:"flex-start"}function xu(t){return t.style.alignContent?t.style.alignContent:"flex-start"}function Fr(t,r){return r.style.alignSelf?r.style.alignSelf:t.style.alignItems?t.style.alignItems:"stretch"}function aa(t,r){if(r===fu){if(t===qt)return Te;if(t===Te)return qt}return t}function _u(t,r){var e;return t.style.direction?e=t.style.direction:e=Ua,e===Ua&&(e=r===void 0?ui:r),e}function wu(t){return t.style.flexDirection?t.style.flexDirection:Nt}function Mu(t,r){return pu(t)?aa(qt,r):Nt}function it(t){return t.style.position?t.style.position:"relative"}function Qa(t){return it(t)===bt&&t.style.flex>0}function ku(t){return t.style.flexWrap==="wrap"}function oe(t,r){return t.layout[I[r]]+dt(t,r)}function Ct(t,r){return t.style[I[r]]!==void 0&&t.style[I[r]]>=0}function Rt(t,r){return t.style[r]!==void 0}function Su(t){return t.style.measure!==void 0}function Pt(t,r){return t.style[r]!==void 0?t.style[r]:0}function st(t,r,e){var n={row:t.style.minWidth,"row-reverse":t.style.minWidth,column:t.style.minHeight,"column-reverse":t.style.minHeight}[r],a={row:t.style.maxWidth,"row-reverse":t.style.maxWidth,column:t.style.maxHeight,"column-reverse":t.style.maxHeight}[r],i=e;return a!==void 0&&a>=0&&i>a&&(i=a),n!==void 0&&n>=0&&i<n&&(i=n),i}function J(t,r){return t>r?t:r}function tn(t,r){t.layout[I[r]]===void 0&&Ct(t,r)&&(t.layout[I[r]]=J(st(t,r,t.style[I[r]]),tt(t,r)))}function ue(t,r,e){r.layout[yt[e]]=t.layout[I[e]]-r.layout[I[e]]-r.layout[ft[e]]}function Ge(t,r){return t.style[K[r]]!==void 0?Pt(t,K[r]):-Pt(t,yt[r])}function bu(t,r,e){var n=_u(t,e),a=aa(wu(t),n),i=Mu(a,n),s=aa(qt,n);tn(t,a),tn(t,i),t.layout.direction=n,t.layout[K[a]]+=Ht(t,a)+Ge(t,a),t.layout[yt[a]]+=Je(t,a)+Ge(t,a),t.layout[K[i]]+=Ht(t,i)+Ge(t,i),t.layout[yt[i]]+=Je(t,i)+Ge(t,i);var o=t.children.length,u=tt(t,s);if(Su(t)){var l=!St(t.layout[I[s]]),f=qe;Ct(t,s)?f=t.style.width:l?f=t.layout[I[s]]:f=r-dt(t,s),f-=u;var c=!Ct(t,s)&&!l,h=!Ct(t,Nt)&&St(t.layout[I[Nt]]);if(c||h){var v=t.style.measure(f);c&&(t.layout.width=v.width+u),h&&(t.layout.height=v.height+tt(t,Nt))}if(o===0)return}var p=ku(t),d=mu(t),y=ra(t,a),g=ra(t,i),x=tt(t,a),M=tt(t,i),k=!St(t.layout[I[a]]),S=!St(t.layout[I[i]]),O=Qt(a),b,A,m,C,z=null,R=null,U=qe;k&&(U=t.layout[I[a]]-x);for(var ut=0,vt=0,jt=0,at=0,Tt=0,pt=0;vt<o;){var nt=0,ee=0,re=0,ge=0,Ye=k&&d===Za||!k&&d!==Ja,Pa=Ye?o:ut,_r=!0,Aa=o,Ne=null,H=null,ae=y,ne=0,Dt;for(b=ut;b<o;++b){m=t.children[b],m.lineIndex=pt,m.nextAbsoluteChild=null,m.nextFlexChild=null;var Bt=Fr(t,m);if(Bt===_e&&it(m)===bt&&S&&!Ct(m,i))m.layout[I[i]]=J(st(m,i,t.layout[I[i]]-M-dt(m,i)),tt(m,i));else if(it(m)===Er)for(z===null&&(z=m),R!==null&&(R.nextAbsoluteChild=m),R=m,A=0;A<2;A++)C=A!==0?qt:Nt,!St(t.layout[I[C]])&&!Ct(m,C)&&Rt(m,K[C])&&Rt(m,yt[C])&&(m.layout[I[C]]=J(st(m,C,t.layout[I[C]]-tt(t,C)-dt(m,C)-Pt(m,K[C])-Pt(m,yt[C])),tt(m,C)));var Ee=0;if(k&&Qa(m)?(ee++,re+=m.style.flex,Ne===null&&(Ne=m),H!==null&&(H.nextFlexChild=m),H=m,Ee=tt(m,a)+dt(m,a)):(Dt=qe,O||(Ct(t,s)?Dt=t.layout[I[s]]-u:Dt=r-dt(t,s)-u),jt===0&&na(m,Dt,n),it(m)===bt&&(ge++,Ee=oe(m,a))),p&&k&&nt+Ee>U&&b!==ut){ge--,jt=1;break}Ye&&(it(m)!==bt||Qa(m))&&(Ye=!1,Pa=b),_r&&(it(m)!==bt||Bt!==_e&&Bt!==Yr||St(m.layout[I[i]]))&&(_r=!1,Aa=b),Ye&&(m.layout[ft[a]]+=ae,k&&ue(t,m,a),ae+=oe(m,a),ne=J(ne,st(m,i,oe(m,i)))),_r&&(m.layout[ft[i]]+=at+g,S&&ue(t,m,i)),jt=0,nt+=Ee,vt=b+1}var Fe=0,me=0,lt=0;if(k?lt=U-nt:lt=J(nt,0)-nt,ee!==0){var xe=lt/re,wr,Mr;for(H=Ne;H!==null;)wr=xe*H.style.flex+tt(H,a),Mr=st(H,a,wr),wr!==Mr&&(lt-=Mr,re-=H.style.flex),H=H.nextFlexChild;for(xe=lt/re,xe<0&&(xe=0),H=Ne;H!==null;)H.layout[I[a]]=st(H,a,xe*H.style.flex+tt(H,a)),Dt=qe,Ct(t,s)?Dt=t.layout[I[s]]-u:O||(Dt=r-dt(t,s)-u),na(H,Dt,n),m=H,H=H.nextFlexChild,m.nextFlexChild=null}else d!==Za&&(d===Ja?Fe=lt/2:d===cu?Fe=lt:d===hu?(lt=J(lt,0),ee+ge-1!==0?me=lt/(ee+ge-1):me=0):d===vu&&(me=lt/(ee+ge),Fe=me/2));for(ae+=Fe,b=Pa;b<vt;++b)m=t.children[b],it(m)===Er&&Rt(m,K[a])?m.layout[ft[a]]=Pt(m,K[a])+ar(t,a)+Ht(m,a):(m.layout[ft[a]]+=ae,k&&ue(t,m,a),it(m)===bt&&(ae+=me+oe(m,a),ne=J(ne,st(m,i,oe(m,i)))));var kr=t.layout[I[i]];for(S||(kr=J(st(t,i,ne+M),M)),b=Aa;b<vt;++b)if(m=t.children[b],it(m)===Er&&Rt(m,K[i]))m.layout[ft[i]]=Pt(m,K[i])+ar(t,i)+Ht(m,i);else{var Sr=g;if(it(m)===bt){var Bt=Fr(t,m);if(Bt===_e)St(m.layout[I[i]])&&(m.layout[I[i]]=J(st(m,i,kr-M-dt(m,i)),tt(m,i)));else if(Bt!==Yr){var Ta=kr-M-oe(m,i);Bt===Nr?Sr+=Ta/2:Sr+=Ta}}m.layout[ft[i]]+=at+Sr,S&&ue(t,m,i)}at+=ne,Tt=J(Tt,ae),pt+=1,ut=vt}if(pt>1&&S){var Da=t.layout[I[i]]-M,br=Da-at,Ia=0,zt=g,Cr=xu(t);Cr===Ka?zt+=br:Cr===Nr?zt+=br/2:Cr===_e&&Da>at&&(Ia=br/pt);var Pr=0;for(b=0;b<pt;++b){var Ra=Pr,ie=0;for(A=Ra;A<o;++A)if(m=t.children[A],it(m)===bt){if(m.lineIndex!==b)break;St(m.layout[I[i]])||(ie=J(ie,m.layout[I[i]]+dt(m,i)))}for(Pr=A,ie+=Ia,A=Ra;A<Pr;++A)if(m=t.children[A],it(m)===bt){var $e=Fr(t,m);if($e===Yr)m.layout[ft[i]]=zt+Ht(m,i);else if($e===Ka)m.layout[ft[i]]=zt+ie-Je(m,i)-m.layout[I[i]];else if($e===Nr){var as=m.layout[I[i]];m.layout[ft[i]]=zt+(ie-as)/2}else $e===_e&&(m.layout[ft[i]]=zt+Ht(m,i))}zt+=ie}}var Ar=!1,Tr=!1;if(k||(t.layout[I[a]]=J(st(t,a,Tt+ci(t,a)),x),(a===Te||a===ea)&&(Ar=!0)),S||(t.layout[I[i]]=J(st(t,i,at+M),M),(i===Te||i===ea)&&(Tr=!0)),Ar||Tr)for(b=0;b<o;++b)m=t.children[b],Ar&&ue(t,m,a),Tr&&ue(t,m,i);for(R=z;R!==null;){for(A=0;A<2;A++)C=A!==0?qt:Nt,!St(t.layout[I[C]])&&!Ct(R,C)&&Rt(R,K[C])&&Rt(R,yt[C])&&(R.layout[I[C]]=J(st(R,C,t.layout[I[C]]-gu(t,C)-dt(R,C)-Pt(R,K[C])-Pt(R,yt[C])),tt(R,C))),Rt(R,yt[C])&&!Rt(R,K[C])&&(R.layout[K[C]]=t.layout[I[C]]-R.layout[I[C]]-Pt(R,yt[C]));m=R,R=R.nextAbsoluteChild,m.nextAbsoluteChild=null}}function Cu(t){var r=t.style,e={};["marginTop","marginRight","marginBottom","marginLeft"].forEach(function(n){var a=r[n];a&&/^-?\d+%$/.test(a)&&(e[n]=a,r[n]=0)}),t.margin=e}function Pu(t){var r=Number(t.substr(0,t.length-1));return r/100}function Au(t){var r=t.margin,e=t.layout;Object.keys(r).forEach(function(n){var a=Pu(r[n]);(n==="marginLeft"||n==="marginRight")&&e.width?e.left+=e.width*a:(n==="marginTop"||n==="marginBottom")&&e.height&&(e.top+=e.height*a)})}function na(t,r,e){t.shouldUpdate=!0,Cu(t);var n=t.style.direction||ui,a=!t.isDirty&&t.lastLayout&&t.lastLayout.requestedHeight===t.layout.height&&t.lastLayout.requestedWidth===t.layout.width&&t.lastLayout.parentMaxWidth===r&&t.lastLayout.direction===n;a?(t.layout.width=t.lastLayout.width,t.layout.height=t.lastLayout.height,t.layout.top=t.lastLayout.top,t.layout.left=t.lastLayout.left):(t.lastLayout||(t.lastLayout={}),t.lastLayout.requestedWidth=t.layout.width,t.lastLayout.requestedHeight=t.layout.height,t.lastLayout.parentMaxWidth=r,t.lastLayout.direction=n,t.children.forEach(function(i){i.layout.width=void 0,i.layout.height=void 0,i.layout.top=0,i.layout.left=0}),bu(t,r,e),t.lastLayout.width=t.layout.width,t.lastLayout.height=t.layout.height,t.lastLayout.top=t.layout.top,t.lastLayout.left=t.layout.left),Au(t)}function hi(t){if(!t)return t;var r=t.style,e=t.children;if(r)return li(t),na(t,null,null),t;if(e&&e.length)for(var n=0,a=e.length;n<a;n++)hi(e[n]);return t}const ia=function(t){var r=t.left,e=t.top,n=t.width,a=t.height;return{x:r,y:e,width:n,height:a}},Tu=function(t){var r=t.left,e=t.top,n=t.width,a=t.height;return{x1:r,y1:e,x2:r+n,y2:e+a}},Du=function(t){var r=t.height,e=t.left,n=t.top;return{x:e,y:n+r/2,textBaseline:"middle"}},Iu=function(t){var r=t.left,e=t.top,n=t.width,a=n/2;return{x:r+a,y:e+a,r:a}},Ru=function(t){var r=t.left,e=t.top,n=t.width,a=n/2;return{x:r+a,y:e,radius:a}};var Ou={rect:ia,line:Tu,text:Du,circle:Iu,marker:Ru,group:ia};const Lu=function(t,r){if(!r)return null;var e=Ou[t]||ia;return e(r)};var Yu="appear",De="update",te="delete";function vi(t,r){return new B[Ae(t)](r)}const Nu=function(t,r,e,n){if(!r)return null;var a=t.get("status"),i=r.clip,s=r.start,o=r.end,u=r.easing,l=r.delay,f=r.duration,c=j(i)?i(t._attrs.attrs):i;if(c){var h=c.type,v=c.attrs,p=c.start,d=vi(h,{attrs:_(_({},v),p)});c.easing=c.easing||u,c.delay=typeof c.delay=="number"?c.delay:l,c.duration=c.duration||f,c.element=d}var y=t.getDefaultAttrs();return _(_({},r),{},{clip:c,start:_(_(_({},y),n),s),end:_(_({},a===te?null:e),o)})};function pi(t,r,e){var n=t.key,a=t.ref,i=t._cache,s=t.type,o=t.props,u=t.status,l=t.animation,f=si(o.children,function(g){return pi(g,r,e)}),c=e(o.style),h=e(o.attrs);if(s==="text"){var v=r.addShape(s,{attrs:_({x:0,y:0},h)}),p=v.getBBox(),d=p.width,y=p.height;c=_({width:d,height:y},c),v.remove(!0)}return{key:n,ref:a,_cache:i,type:s,props:o,children:f,status:u,animation:l,style:c,attrs:h}}function Eu(t,r){if(!t||!r)return r;var e=t.left,n=t.top,a=r.left,i=r.top;return _(_({},r),{},{left:e+a,top:n+i})}function di(t,r,e,n){var a=t._cache,i=a===void 0?{}:a,s=t.ref,o=t.type,u=t.props,l=t.attrs,f=t.layout,c=t.renderChildren,h=t.children,v=t.status,p=t.animation,d=Eu(e,f),y=i.attrs,g=_(_(_({},Lu(o,d)),v===te?y:null),l);if(i.attrs=g,g.clip){var x=g.clip,M=j(x)?x(g):x;g.clip=vi(M.type,M)}var k;if(o==="group"){k=r.addGroup(_(_({},Es(u,["children"])),{},{status:v,attrs:g}));var S=c||h;if(S&&S.length)for(var O=0,b=S.length;O<b;O++)di(S[O],k,d,n)}else k=r.addShape(o,_(_({},u),{},{status:v,attrs:g}));return n!==!1&&k.set("animation",Nu(k,p,g,y)),s&&(s.current=k),k}function yi(t){var r=t.status,e=t.children;if(r===te)return null;if(!e||!e.length)return t;var n=e.filter(function(a){return!!yi(a)});return t.children=n,t.renderChildren=e,t}function en(t,r,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:oi;if(t){var a=pi(t,r,n),i=yi(a);return hi(i),di(a,r,null,e)}}function sa(t,r,e){if(!t)return t;var n=t,a=n.type,i=n.key,s=n.ref,o=n.props,u=n._cache,l=u===void 0?{}:u,f=G.map(o.children,function(h){return sa(h,r,e)});if(t={type:a,key:i,ref:s,_cache:l,props:_(_({},o),{},{children:f})},typeof a=="function"){var c=a(t.props,r,e);return c&&sa(_(_({},c),{},{key:i!==void 0?i:c.key,ref:s!==void 0?s:c.ref}),r,e)}return t}const Fu=function(t,r,e){return sa(t,r,e)};var $u=["children","animation"],ju=["children","animation"],Bu=["children","animation"],zu=["animation"],Xu=["animation"];function Gt(t){var r=!1,e=G.map(t,function(n){if(!n)return n;var a=n.ref,i=n.key,s=n.type,o=n.props,u=n._cache,l=o.children,f=o.animation,c=$t(o,$u),h=te,v=f&&f.leave,p=Gt(l);return!p&&!v?null:(r=!0,{ref:a,key:i,type:s,props:_(_({},c),{},{children:p}),_cache:u,animation:v,status:h})});return r?e:null}function de(t){return G.map(t,function(r){if(!r)return r;var e=r.ref,n=r.key,a=r.type,i=r.props,s=r._cache,o=i.children,u=i.animation,l=$t(i,ju),f=Yu,c=u&&u.appear,h=de(o);return{ref:e,key:n,type:a,props:_(_({},l),{},{children:h}),_cache:s,animation:c,status:f}})}function Hu(t,r){var e=t.ref,n=t.key,a=t.type,i=t._cache,s=t.props,o=r._cache,u=r.props,l=s.children,f=s.animation,c=$t(s,Bu),h=u.children,v=ce(l,h),p=X(i,o),d=f&&f.update;return{ref:e,key:n,type:a,props:_(_({},c),{},{children:v}),_cache:p,animation:d,status:De}}function gi(t,r){return[Gt(r),de(t)]}function Wu(t,r){var e=t.key,n=t.type,a=t.ref,i=t.props,s=t._cache,o=r.type,u=r._cache,l=i.children,f=G.map(l,function(c){if(!c)return c;var h=c.key,v=c.ref,p=c.type,d=c.props,y=c._cache;if(p!==o)return gi(c,r);var g=d.animation,x=$t(d,zu),M=g&&g.update;return{ref:v,key:h,type:p,props:x,_cache:X(y,u),animation:M,status:De}});return{key:e,type:n,ref:a,props:_(_({},i),{},{children:f}),_cache:s,status:De}}function Vu(t,r){var e=t.ref,n=t.key,a=t.type,i=t.props,s=t._cache,o=r.type,u=r.props,l=i.animation,f=$t(i,Xu),c=u.children,h=l&&l.update;if(!h)return[Gt(r),de[t]];var v=null,p=G.map(c,function(y){if(!y)return y;var g=y.type,x=y._cache;return g!==a?Gt(y):(v||(v=y),{type:a,props:i,_cache:x,animation:h,status:De})});if(!v)return[Gt(r),de(t)];var d={ref:e,key:n,type:a,props:f,_cache:X(s,v._cache),animation:h,status:De};return[{type:o,props:_(_({},u),{},{children:p}),status:te},d]}function qu(t,r){var e=t.type,n=r.type;return e==="group"?Wu(t,r):n==="group"?Vu(t,r):gi(t,r)}function Gu(t,r){for(var e={},n=t.length,a=r.length,i=0;i<a;i++){var s=r[i];if(s&&!w(s.key)){var o=s.key;e[o]=s}}for(var u=Math.max(n,a),l=[],f=0;f<u;f++){var c=t[f];if(!c){l.push(ce(c,r[f]));continue}var h=c.key;if(!w(h)){var v=e[h];v&&delete e[h],l.push(ce(c,v));continue}l.push(ce(c,r[f]))}return Object.keys(e).forEach(function(p){l.push(ce(null,e[p]))}),l}function ce(t,r){if(!t&&!r)return null;if(!r)return de(t);if(!t)return Gt(r);if(P(t)||P(r)){var e=P(t)?t:[t],n=P(r)?r:[r];return Gu(e,n)}var a=t.key,i=t.type,s=r.key,o=r.type;return!w(a)&&a!==s?[Gt(r),de(t)]:i!==o?qu(t,r):Hu(t,r)}function rn(t){return Object.prototype.toString.call(t)}function an(t){return Object.keys(t)}function wt(t,r){if(t===r)return!0;if(q(t)!==q(r)||t==null||r==null)return!1;if(Number.isNaN(t)&&Number.isNaN(r))return!0;if(rn(t)!==rn(r))return!1;if(j(t))return!0;if(q(t)!=="object")return!1;if(P(t)){if(t.length!==r.length)return!1;for(var e=t.length-1;e>=0;e--)if(!wt(t[e],r[e]))return!1;return!0}if(!ve(t))return!1;var n=an(t),a=an(r);if(n.length!==a.length)return!1;n.sort(),a.sort();for(var i=n.length-1;i>=0;i--)if(n[i]!=a[i])return!1;for(var s=n.length-1;s>=0;s--){var o=n[s];if(!wt(t[o],r[o]))return!1}return!0}var Uu=["transformFrom"];function Zu(t){return t&&G.map(t,function(r){return r&&Ns(r,["key","ref","type","props"])})}function Ju(t,r,e){var n=t.container,a=t.context,i=t.updater,s=t.__lastElement,o=t.transformFrom,u=t.animate;n.clear(),e=Xn(e)?e:u;var l=a.px2hd,f=s||o&&o.__lastElement,c=Fu(r,a,i);t.__lastElement=c;var h=e!==!1?ce(c,f):c;return h?P(h)?h.map(function(v){return en(v,n,e,l)}):en(h,n,e,l):null}function Ku(t,r){var e=r.animate;if(e===!1){t.animate=!1;return}var n=t.props,a=n.animate;t.animate=Xn(a)?a:e}function mi(t){if(!t)return null;var r=t.__lastElement,e=t.children;if(r)return t;if(!e)return null;var n=null;return G.map(e,function(a){if(!n&&a){var i=mi(a.component);i&&(n=i)}}),n}function Qu(t){if(!t||!t.current)return null;var r=t.current;return mi(r)}function tl(t,r){var e=r.type,n=r.props,a=r.ref,i=t.container,s=t.context,o=t.updater,u=t.transformFrom,l=n.transformFrom,f=$t(n,Uu),c;if(e.prototype&&e.prototype.isF2Component?c=new e(f,s,o):(c=new vr(f,s,o),c.render=function(){return e(this.props,s,o)}),a&&(a.current=c),u&&(c.transformFrom=u),l){var h=l?Qu(l):null;c.transformFrom=h}var v=n.zIndex;return c.container=i.addGroup({zIndex:v}),c.context=s,c.updater=o,c}function xi(t){G.map(t,function(r){var e=r.children,n=Ea(e);n?r.willMount&&r.willMount():r.willUpdate&&r.willUpdate()}),G.map(t,function(r){var e=r.children,n=Ea(e),a=r.render();wi(r,a,e),n?r.didMount&&r.didMount():r.didUpdate&&r.didUpdate()})}function nr(t){G.map(t,function(r){if(r){var e=r.component;if(e){e.willUnmount&&e.willUnmount(),nr(e.children);var n=e.container;n.remove(!0),e.didUnmount&&e.didUnmount(),e.destroy()}}})}function el(t,r,e){if(!r&&!e)return null;if(!r&&e)return nr(e),null;if(r&&!e)return r;var n=r.type,a=r.props,i=e.type,s=e.props,o=e.component;return n!==i?(nr(e),r):(r.component=o,wt(a,s)&&o.context===t.context?null:r)}function rl(t,r,e){var n=[];G.compare(r,e,function(s,o){var u=el(t,s,o);u&&(n=n.concat(G.toArray(u).filter(Boolean)))});var a=n.filter(function(s){var o=s.component,u=s.props;return o?!(o.shouldUpdate&&o.shouldUpdate(u)===!1):!0}),i=a.map(function(s){var o=s.component;if(!o)o=tl(t,s);else{var u=s.props;o.willReceiveProps&&o.willReceiveProps(u,t.context);var l=u.zIndex;o.container.set("zIndex",l),o.props=u,o.context=t.context}return s.component=o,Ku(o,t),o});return xi(i),n.forEach(function(s){var o=s.component,u=t.container;u.add(o.container)}),r}function _i(t){if(!t)return!1;if(!P(t)){var r=t.type;return typeof r=="function"}for(var e=0,n=t.length;e<n;e++)if(_i(t[e]))return!0;return!1}function wi(t,r,e){return r=Zu(r),t.children=r,_i(r)?r=rl(t,r,e):Ju(t,r),r}var al=function(){function t(r){D(this,t),this.left=0,this.top=0,this.width=0,this.height=0,this.update(r)}return T(t,[{key:"update",value:function(e){X(this,e);var n=this.left,a=this.top,i=this.width,s=this.height;return this.right=n+i,this.bottom=a+s,this}},{key:"padding",value:function(e){if(!e)return this;var n=e.top,a=n===void 0?0:n,i=e.right,s=i===void 0?0:i,o=e.bottom,u=o===void 0?0:o,l=e.left,f=l===void 0?0:l,c=this.top,h=this.right,v=this.bottom,p=this.left;return this.top=c+a,this.right=h-s,this.bottom=v-u,this.left=p+f,this.width=this.right-this.left,this.height=this.bottom-this.top,this}},{key:"clone",value:function(){var e=this.left,n=this.top,a=this.width,i=this.height;return new t({left:e,top:n,width:a,height:i})}}],[{key:"fromStyle",value:function(e){var n=e.left,a=e.top,i=e.width,s=e.height,o=e.padding,u=mt(o,4),l=u[0],f=u[1],c=u[2],h=u[3];return new t({left:n+h,top:a+l,width:i-h-f,height:s-l-c})}}]),t}();const ga=al;function nl(t){var r=[],e=[],n=[];function a(){for(var u;u=r.shift();){var l=u,f=l.state,c=l.component,h=l.callback;c.destroyed||(c.prevState||(c.prevState=Object.assign({},c.state)),typeof f=="function"?Object.assign(c.state,f(c.prevState,c.props)):Object.assign(c.state,f),c.prevState=c.state,typeof h=="function"&&n.push({callback:h,component:c}))}var v=[].concat(e);t.renderComponents(v),s(),e.length=0,n.length=0}function i(u,l,f){r.length===0&&setTimeout(a,0),r.push({component:u,state:l,callback:f}),e.indexOf(u)<0&&e.push(u)}function s(){for(var u=0;u<n.length;u++){var l=n[u],f=l.callback,c=l.component;f.call(c)}}var o={enqueueForceUpdate:i,enqueueSetState:i};return o}var il={labelOffset:"15px",line:{stroke:"#E8E8E8",lineWidth:"1px"},label:{fill:"#808080",fontSize:"20px"},grid:{stroke:"#E8E8E8",lineWidth:"1px",lineDash:["4px"]}},sl={line:{style:{stroke:"#a3a3a3",lineWidth:1},offsetX:0,offsetY:0},text:{style:{fill:"#787878",textBaseline:"middle"},offsetX:0,offsetY:0},rect:{style:{fill:"#fafafa"}},arc:{style:{stroke:"#a3a3a3"}},html:{offsetX:0,offsetY:0,alignX:"center",alignY:"middle"},tag:{offsetX:0,offsetY:0,side:4,background:{padding:5,radius:2,fill:"#1890FF"},textStyle:{fontSize:12,fill:"#fff",textAlign:"center",textBaseline:"middle"}},point:{offsetX:0,offsetY:0,style:{fill:"#fff",r:3,lineWidth:2,stroke:"#1890ff"}}},ol={padding:["30px","30px","30px","30px"]},ul={fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',pixelRatio:1,padding:[0,0,0,0],chart:ol,colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],shapes:{line:["line","dash","smooth"],point:["circle","hollowCircle","rect"],area:["area","smooth"],interval:["rect","pyramid","funnel"]},sizes:["4px","6px","8px","10px","12px"],shape:{line:{default:{lineWidth:"4px",lineJoin:"round",lineCap:"round"},smooth:{smooth:!0},dash:{lineDash:["8px","8px"]}},point:{default:{size:"6px"},hollowCircle:{lineWidth:"2px"}},area:{default:{fillOpacity:.1}},interval:{default:{}}},axis:il,guide:sl};const ll=ul;var nn=(typeof window>"u"?"undefined":q(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)},fl=(typeof window>"u"?"undefined":q(window))==="object"&&window.cancelAnimationFrame?window.cancelAnimationFrame:function(t){return clearTimeout(t)},sn=(typeof performance>"u"?"undefined":q(performance))==="object"&&performance.now?performance:Date,cl=function(){function t(){D(this,t),this.playing=!1,this.paused=!1,this.pausedTime=0}return T(t,[{key:"play",value:function(e,n,a){var i=this;if(e<=0){a();return}if(!this.playing){this.duration=e,this.onUpdate=n,this.onEnd=a;var s=this.paused,o=this.pausedTime;this.playing=!0;var u=sn.now();s&&o&&(u=u-o,this.paused=!1,this.pausedTime=0);var l=function f(){var c=sn.now(),h=c-u;if(h>=e){n(e),a(),i.playing=!1;return}if(i.paused){n(h),i.pausedTime=h,i.playing=!1;return}n(h),i.animationFrameNumber=nn(f)};this.animationFrameNumber=nn(l)}}},{key:"pause",value:function(){this.paused=!0}},{key:"stop",value:function(){this.playing=!1}},{key:"end",value:function(){this.playing&&(this.abort(),this.onUpdate(this.duration),this.onEnd())}},{key:"abort",value:function(){this.animationFrameNumber&&(fl(this.animationFrameNumber),this.playing=!1,this.animationFrameNumber=null)}}]),t}();const hl=cl;function ma(t,r,e){t.prototype=r.prototype=e,e.constructor=t}function Mi(t,r){var e=Object.create(t.prototype);for(var n in r)e[n]=r[n];return e}function Le(){}var Ie=.7,ir=1/Ie,he="\\s*([+-]?\\d+)\\s*",Re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vl=/^#([0-9a-f]{3,8})$/,pl=new RegExp("^rgb\\("+[he,he,he]+"\\)$"),dl=new RegExp("^rgb\\("+[_t,_t,_t]+"\\)$"),yl=new RegExp("^rgba\\("+[he,he,he,Re]+"\\)$"),gl=new RegExp("^rgba\\("+[_t,_t,_t,Re]+"\\)$"),ml=new RegExp("^hsl\\("+[Re,_t,_t]+"\\)$"),xl=new RegExp("^hsla\\("+[Re,_t,_t,Re]+"\\)$"),on={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ma(Le,Oe,{copy:function(r){return Object.assign(new this.constructor,this,r)},displayable:function(){return this.rgb().displayable()},hex:un,formatHex:un,formatHsl:_l,formatRgb:ln,toString:ln});function un(){return this.rgb().formatHex()}function _l(){return ki(this).formatHsl()}function ln(){return this.rgb().formatRgb()}function Oe(t){var r,e;return t=(t+"").trim().toLowerCase(),(r=vl.exec(t))?(e=r[1].length,r=parseInt(r[1],16),e===6?fn(r):e===3?new et(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):e===8?Ue(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):e===4?Ue(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=pl.exec(t))?new et(r[1],r[2],r[3],1):(r=dl.exec(t))?new et(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=yl.exec(t))?Ue(r[1],r[2],r[3],r[4]):(r=gl.exec(t))?Ue(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=ml.exec(t))?vn(r[1],r[2]/100,r[3]/100,1):(r=xl.exec(t))?vn(r[1],r[2]/100,r[3]/100,r[4]):on.hasOwnProperty(t)?fn(on[t]):t==="transparent"?new et(NaN,NaN,NaN,0):null}function fn(t){return new et(t>>16&255,t>>8&255,t&255,1)}function Ue(t,r,e,n){return n<=0&&(t=r=e=NaN),new et(t,r,e,n)}function wl(t){return t instanceof Le||(t=Oe(t)),t?(t=t.rgb(),new et(t.r,t.g,t.b,t.opacity)):new et}function oa(t,r,e,n){return arguments.length===1?wl(t):new et(t,r,e,n??1)}function et(t,r,e,n){this.r=+t,this.g=+r,this.b=+e,this.opacity=+n}ma(et,oa,Mi(Le,{brighter:function(r){return r=r==null?ir:Math.pow(ir,r),new et(this.r*r,this.g*r,this.b*r,this.opacity)},darker:function(r){return r=r==null?Ie:Math.pow(Ie,r),new et(this.r*r,this.g*r,this.b*r,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cn,formatHex:cn,formatRgb:hn,toString:hn}));function cn(){return"#"+$r(this.r)+$r(this.g)+$r(this.b)}function hn(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function $r(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function vn(t,r,e,n){return n<=0?t=r=e=NaN:e<=0||e>=1?t=r=NaN:r<=0&&(t=NaN),new gt(t,r,e,n)}function ki(t){if(t instanceof gt)return new gt(t.h,t.s,t.l,t.opacity);if(t instanceof Le||(t=Oe(t)),!t)return new gt;if(t instanceof gt)return t;t=t.rgb();var r=t.r/255,e=t.g/255,n=t.b/255,a=Math.min(r,e,n),i=Math.max(r,e,n),s=NaN,o=i-a,u=(i+a)/2;return o?(r===i?s=(e-n)/o+(e<n)*6:e===i?s=(n-r)/o+2:s=(r-e)/o+4,o/=u<.5?i+a:2-i-a,s*=60):o=u>0&&u<1?0:s,new gt(s,o,u,t.opacity)}function Ml(t,r,e,n){return arguments.length===1?ki(t):new gt(t,r,e,n??1)}function gt(t,r,e,n){this.h=+t,this.s=+r,this.l=+e,this.opacity=+n}ma(gt,Ml,Mi(Le,{brighter:function(r){return r=r==null?ir:Math.pow(ir,r),new gt(this.h,this.s,this.l*r,this.opacity)},darker:function(r){return r=r==null?Ie:Math.pow(Ie,r),new gt(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,i=2*n-a;return new et(jr(r>=240?r-240:r+120,i,a),jr(r,i,a),jr(r<120?r+240:r-120,i,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var r=this.opacity;return r=isNaN(r)?1:Math.max(0,Math.min(1,r)),(r===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(r===1?")":", "+r+")")}}));function jr(t,r,e){return(t<60?r+(e-r)*t/60:t<180?e:t<240?r+(e-r)*(240-t)/60:r)*255}const xa=function(t){return function(){return t}};function kl(t,r){return function(e){return t+e*r}}function Sl(t,r,e){return t=Math.pow(t,e),r=Math.pow(r,e)-t,e=1/e,function(n){return Math.pow(t+n*r,e)}}function bl(t){return(t=+t)==1?Si:function(r,e){return e-r?Sl(r,e,t):xa(isNaN(r)?e:r)}}function Si(t,r){var e=r-t;return e?kl(t,e):xa(isNaN(t)?r:t)}const ua=function t(r){var e=bl(r);function n(a,i){var s=e((a=oa(a)).r,(i=oa(i)).r),o=e(a.g,i.g),u=e(a.b,i.b),l=Si(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=u(f),a.opacity=l(f),a+""}}return n.gamma=t,n}(1);function bi(t,r){r||(r=[]);var e=t?Math.min(r.length,t.length):0,n=r.slice(),a;return function(i){for(a=0;a<e;++a)n[a]=t[a]*(1-i)+r[a]*i;return n}}function Cl(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Pl(t,r){var e=r?r.length:0,n=t?Math.min(e,t.length):0,a=new Array(n),i=new Array(e),s;for(s=0;s<n;++s)a[s]=_a(t[s],r[s]);for(;s<e;++s)i[s]=r[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function Al(t,r){var e=new Date;return t=+t,r=+r,function(n){return e.setTime(t*(1-n)+r*n),e}}function sr(t,r){return t=+t,r=+r,function(e){return t*(1-e)+r*e}}function Ci(t,r){var e={},n={},a;(t===null||q(t)!=="object")&&(t={}),(r===null||q(r)!=="object")&&(r={});for(a in r)a in t?e[a]=_a(t[a],r[a]):n[a]=r[a];return function(i){for(a in e)n[a]=e[a](i);return n}}var la=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Br=new RegExp(la.source,"g");function Tl(t){return function(){return t}}function Dl(t){return function(r){return t(r)+""}}function Il(t,r){var e=la.lastIndex=Br.lastIndex=0,n,a,i,s=-1,o=[],u=[];for(t=t+"",r=r+"";(n=la.exec(t))&&(a=Br.exec(r));)(i=a.index)>e&&(i=r.slice(e,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,u.push({i:s,x:sr(n,a)})),e=Br.lastIndex;return e<r.length&&(i=r.slice(e),o[s]?o[s]+=i:o[++s]=i),o.length<2?u[0]?Dl(u[0].x):Tl(r):(r=u.length,function(l){for(var f=0,c;f<r;++f)o[(c=u[f]).i]=c.x(l);return o.join("")})}function _a(t,r){var e=q(r),n;return r==null||e==="boolean"?xa(r):(e==="number"?sr:e==="string"?(n=Oe(r))?(r=n,ua):Il:r instanceof Oe?ua:r instanceof Date?Al:Cl(r)?bi:Array.isArray(r)?Pl:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Ci:sr)(t,r)}function Rl(t,r){var e=t?t.length:0,n=r?r.length:0,a=Math.max(n,e),i=new Array(a),s=new Array(a),o;for(o=0;o<a;o++){var u=o<e?(t||[])[o]:(t||[])[e-1],l=o<n?(r||[])[o]:(r||[])[n-1];s[o]=Ci(u,l)}return function(f){if(f>=1)return r;for(o=0;o<a;++o)i[o]=s[o](f);return i}}const Ol=function(t,r){return typeof r=="string"?ua(t,r):Array.isArray(r)?typeof r[0]!="number"?Rl(t,r):bi(t,r):sr(t,r)};function Pi(t){return t}function Ll(t){return t*t}function Yl(t){return t*(2-t)}function Nl(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}function El(t){return t*t*t}function Fl(t){return--t*t*t+1}function $l(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}function jl(t){return t*t*t*t}function Bl(t){return 1-t*t*t*t}function zl(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}function Xl(t){return t*t*t*t*t}function Hl(t){return--t*t*t*t*t+1}function Wl(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}function Vl(t){return t===0?0:Math.pow(1024,t-1)}function ql(t){return t===1?1:1-Math.pow(2,-10*t)}function Gl(t){var r,e=.1,n=.4;return t===0?0:t===1?1:(!e||e<1?(e=1,r=n/4):r=n/(2*Math.PI)*Math.asin(1/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/n)))}function Ul(t){var r,e=.1,n=.4;return t===0?0:t===1?1:(!e||e<1?(e=1,r=n/4):r=n/(2*Math.PI)*Math.asin(1/e),e*Math.pow(2,-10*t)*Math.sin((t-r)*(2*Math.PI)/n)+1)}function Zl(t){var r,e=.1,n=.4;return t===0?0:t===1?1:(!e||e<1?(e=1,r=n/4):r=n/(2*Math.PI)*Math.asin(1/e),(t*=2)<1?-.5*(e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/n)):e*Math.pow(2,-10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/n)*.5+1)}function Jl(t){var r=1.70158;return t*t*((r+1)*t-r)}function Kl(t){var r=1.70158;return(t=t-1)*t*((r+1)*t+r)+1}function Ql(t){var r=2.5949095;return(t*=2)<1?.5*(t*t*((r+1)*t-r)):.5*((t-=2)*t*((r+1)*t+r)+2)}function Ai(t){return 1-wa(1-t)}function wa(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function tf(t){return t<.5?Ai(t*2)*.5:wa(t*2-1)*.5+.5}const ef=Object.freeze(Object.defineProperty({__proto__:null,backIn:Jl,backInOut:Ql,backOut:Kl,bounceIn:Ai,bounceInOut:tf,bounceOut:wa,cubicIn:El,cubicInOut:$l,cubicOut:Fl,elasticIn:Gl,elasticInOut:Zl,elasticOut:Ul,exponentialIn:Vl,exponentialOut:ql,linear:Pi,quadraticIn:Ll,quadraticInOut:Nl,quadraticOut:Yl,quarticIn:jl,quarticInOut:zl,quarticOut:Bl,quinticIn:Xl,quinticInOut:Wl,quinticOut:Hl},Symbol.toStringTag,{value:"Module"}));var rf=function(){function t(r,e){D(this,t),this.isClip=!1,this.end=!1,this.element=r,this.animation=e;var n=e.property,a=n===void 0?[]:n,i=e.easing,s=e.duration,o=e.delay,u=o===void 0?0:o,l=e.start,f=e.end,c=e.onFrame,h=e.isClip,v=a.map(function(p){if(Q(p))return Ol(l[p],f[p]);if(p.interpolate)return p.interpolate(l,f)});this.easing=typeof i=="function"?i:ef[i]||Pi,this.property=a,this.interpolates=v,this.duration=s,this.delay=u,this.onFrame=c,this.totalDuration=s+u,this.isClip=h,this.update(0,0)}return T(t,[{key:"to",value:function(e){var n=this.duration,a=this.delay,i=this.totalDuration,s=this.easing,o=this.end;if(!o&&!(e<=a||!n)){var u=e>=i?1:(e-a)/n;this.update(s(u),e),u===1&&this.onEnd()}}},{key:"update",value:function(e,n){for(var a=this.element,i=this.interpolates,s=this.property,o=this.onFrame,u={},l=s.length-1;l>=0;l--){var f=s[l];Q(f)?u[f]=i[l](e):u[f.name]=i[l](e)}o&&(u=_(_({},u),this.onFrame(e,n))),a.attr(u)}},{key:"onEnd",value:function(){var e=this.animation,n=this.isClip,a=this.element,i=e.onEnd;i&&i.call(this),n&&a.remove(!0),a._attrs.status===te&&a.remove(!0),a.set("animation",null),this.end=!0}}]),t}();const af=rf;function Ti(t,r){r(t);var e=t.get("children");if(e&&e.length)for(var n=0,a=e.length;n<a;n++){var i=e[n];Ti(i,r)}}var nf=function(){function t(r){D(this,t),this.timeline=new hl,this.canvas=r}return T(t,[{key:"createAnimator",value:function(e,n){var a=n.duration,i=n.property,s=n.onFrame;if(!(!a||(!i||!i.length)&&!s))return new af(e,n)}},{key:"play",value:function(e,n){var a=this,i=this.canvas,s=[],o=0,u=[];Ti(e,function(v){var p=v._attrs,d=p.animation,y=p.status;if(!d){y===te&&u.push(v);return}var g=a.createAnimator(v,d);g&&(o=Math.max(o,g.totalDuration),s.push(g));var x=d.clip;if(x){x.isClip=!0;var M=x.element,k=a.createAnimator(M,x);k&&(o=Math.max(o,k.totalDuration),v.attr("clip",M),s.push(k))}});for(var l=0,f=u.length;l<f;l++){var c=u[l],h=c._attrs.children;(!h||!h.length)&&c.remove(!0)}this.timeline.play(o,function(v){for(var p=0,d=s.length;p<d;p++){var y=s[p];y.to(v)}v<o&&i.draw()},function(){for(var v=0,p=u.length;v<p;v++){var d=u[v];d.remove(!0)}i.draw(),n&&n()})}},{key:"end",value:function(){this.timeline.end()}},{key:"abort",value:function(){this.timeline.abort()}}]),t}();const sf=nf;function of(t,r){return function(e,n){var a=n||{},i=a.fontSize,s=a.fontFamily,o=a.fontStyle,u=a.fontWeight,l=a.fontVariant,f=t.addShape("text",{attrs:{x:0,y:0,fontSize:r(i),fontFamily:s,fontStyle:o,fontWeight:u,fontVariant:l,text:e}}),c=f.getBBox(),h=c.width,v=c.height;return f.remove(!0),{width:h,height:v}}}var uf=function(t){N(e,t);var r=E(e);function e(n){var a;D(this,e),a=r.call(this,n);var i=n.context,s=n.pixelRatio,o=n.width,u=n.height,l=n.animate,f=l===void 0?!0:l,c=n.px2hd,h=n.theme;n.style;var v=n.createImage,p=n.landscape,d=j(c)?ii(c):oi,y=d(hr({},ll,h)),g=iu({context:i,pixelRatio:s,fontFamily:y.fontFamily,width:o,height:u,createImage:v,landscape:p}),x=nl(pe(a)),M={root:pe(a),canvas:g,theme:y,px2hd:d,measureText:of(g,d)},k=new sf(g);return a.canvas=g,a.container=g,a.context=M,a.updater=x,a.animate=f,a.animation=k,a.theme=y,a._ee=new Hs,a.updateLayout(n),a}return T(e,[{key:"renderComponents",value:function(a){!a||!a.length||(xi(a),this.draw())}},{key:"update",value:function(a){var i=this.props;wt(a,i)||(this.props=a,this.render())}},{key:"resize",value:function(a,i){var s=this.canvas._attrs,o=s.width,u=s.height;this.canvas.changeSize(a||o,i||u),this.updateLayout(_(_({},this.props),{},{width:a,height:i})),this.render()}},{key:"updateLayout",value:function(a){var i=this.canvas._attrs,s=i.width,o=i.height,u=this.context.px2hd(_({left:0,top:0,width:(a==null?void 0:a.width)||s,height:(a==null?void 0:a.height)||o,padding:this.theme.padding},a.style));this.layout=ga.fromStyle(u),this.context=_(_({},this.context),{},{left:this.layout.left,top:this.layout.top,width:this.layout.width,height:this.layout.height})}},{key:"draw",value:function(){var a=this.canvas,i=this.animate;if(i===!1){a.draw();return}this.play()}},{key:"play",value:function(){var a=this,i=this.canvas,s=this.animation;s.abort(),s.play(i,function(){a.emit("animationEnd")})}},{key:"render",value:function(){var a=this.children,i=this.props,s=i.children;return wi(this,s,a),this.draw(),null}},{key:"destroy",value:function(){var a=this.canvas,i=this.children;nr(i),a.destroy()}},{key:"on",value:function(a,i){this._ee.on(a,i)}},{key:"emit",value:function(a,i){this._ee.emit(a,i)}},{key:"off",value:function(a,i){this._ee.off(a,i)}}]),e}(vr);const lf=uf;var ff=function(){function t(){D(this,t)}return T(t,[{key:"getRectRange",value:function(e){var n=e.left,a=e.top,i=e.width,s=e.height,o=e.padding,u=mt(o,4),l=u[0],f=u[1],c=u[2],h=u[3];return{left:n+h,top:a+l,width:i-h-f,height:s-l-c}}},{key:"create",value:function(e){var n=this.getRectRange(e),a=new ga(n);return this.layout=a,a}},{key:"update",value:function(e){var n=this.getRectRange(e),a=this.layout;return a.update(n),a}}]),t}();const cf=ff;function pn(t){var r=t.xMin,e=t.xMax,n=t.yMin,a=t.yMax;return{xMin:n,xMax:a,yMin:r,yMax:e}}function dn(t){var r=t.x,e=t.y,n=t.size,a=t.y0,i,s;P(r)?(i=r[0],s=r[1]):(i=r-n/2,s=r+n/2);var o,u;return P(e)?(o=e[0],u=e[1]):(o=Math.min(a,e),u=Math.max(a,e)),{xMin:i,xMax:s,yMin:o,yMax:u}}var hf=function(t){N(e,t);var r=E(e);function e(n){var a;return D(this,e),a=r.call(this,n),a.transposed=!1,a.x=[0,1],a.y=[0,1],a.update(n),a}return T(e,[{key:"update",value:function(a){$(Y(e.prototype),"update",this).call(this,a);var i=this.left,s=this.top,o=this.width,u=this.height;return this.center={x:i+o/2,y:s+u/2},this}},{key:"isCyclic",value:function(){return!1}},{key:"_zoomVal",value:function(a,i){return P(a)?a.map(function(s){return i(s)}):i(a)}},{key:"convert",value:function(a){var i=this.transposed,s=this.x,o=this.y,u=i?"y":"x",l=i?"x":"y",f=a[u],c=a[l];return f<0||f>1||c<0||c>1?{x:NaN,y:NaN}:{x:this._zoomVal(a[u],function(h){return s[0]+(s[1]-s[0])*h}),y:this._zoomVal(a[l],function(h){return o[0]+(o[1]-o[0])*h})}}},{key:"invert",value:function(a){var i,s=this.transposed,o=this.x,u=this.y,l=s?"y":"x",f=s?"x":"y";return i={},tr(i,l,this._zoomVal(a.x,function(c){return(c-o[0])/(o[1]-o[0])})),tr(i,f,this._zoomVal(a.y,function(c){return(c-u[0])/(u[1]-u[0])})),i}},{key:"convertPoint",value:function(a){return this.convert(a)}},{key:"invertPoint",value:function(a){return this.invert(a)}},{key:"convertRect",value:function(a){var i=this.x,s=this.y,o=this.transposed,u=mt(i,2),l=u[0],f=u[1],c=mt(s,2),h=c[0],v=c[1],p=dn(a),d=o?pn(p):p,y=d.xMin,g=d.xMax,x=d.yMin,M=d.yMax,k=l+(f-l)*y,S=l+(f-l)*g,O=h+(v-h)*x,b=h+(v-h)*M;return{xMin:Math.min(k,S),xMax:Math.max(k,S),yMin:Math.min(O,b),yMax:Math.max(O,b)}}},{key:"transformToRect",value:function(a){var i=a.x,s=a.y,o=a.y0,u=a.size,l=this.convertPoint({x:0,y:o}),f=this.transposed,c={size:u,x:f?s:i,y:f?i:s,y0:f?l.x:l.y},h=dn(c),v=f?pn(h):h,p=v.xMin,d=v.xMax,y=v.yMin,g=v.yMax;return{xMin:p,xMax:d,yMin:y,yMax:g}}}]),e}(ga);const Di=hf;var vf=function(t){N(e,t);var r=E(e);function e(){var n;return D(this,e),n=r.apply(this,arguments),n.type="rect",n}return T(e,[{key:"update",value:function(a){$(Y(e.prototype),"update",this).call(this,a);var i=this.left,s=this.top,o=this.right,u=this.bottom,l=[i,o],f=[u,s];return this.x=l,this.y=f,this}}]),e}(Di);const fa=vf;var pf=function(t){N(e,t);var r=E(e);function e(){var n;return D(this,e),n=r.apply(this,arguments),n.type="polar",n.isPolar=!0,n}return T(e,[{key:"update",value:function(a){$(Y(e.prototype),"update",this).call(this,a),this.option||(this.option=a);var i=this.option,s=i.radius,o=s===void 0?1:s,u=i.innerRadius,l=u===void 0?0:u,f=this.width,c=this.height,h=this.startAngle,v=h===void 0?-Math.PI/2:h,p=this.endAngle,d=p===void 0?Math.PI*3/2:p,y=o*(Math.min(f,c)/2),g=[v,d],x=[l*y,y];return this.x=g,this.y=x,this.startAngle=v,this.endAngle=d,this.radius=y,this.innnerRadius=l*y,this}},{key:"isCyclic",value:function(){var a=this.startAngle,i=this.endAngle;return!(i-a<Math.PI*2)}},{key:"convertPoint",value:function(a){var i=this.center,s=this.transposed,o=this.x,u=this.y,l=s?"y":"x",f=s?"x":"y",c=mt(o,2),h=c[0],v=c[1],p=mt(u,2),d=p[0],y=p[1],g=h+(v-h)*a[l],x=d+(y-d)*a[f];return{x:i.x+Math.cos(g)*x,y:i.y+Math.sin(g)*x}}},{key:"invertPoint",value:function(a){var i=this.center,s=this.transposed,o=this.x,u=this.y,l=s?"y":"x",f=s?"x":"y",c=mt(o,2),h=c[0],v=c[1],p=mt(u,2),d=p[0],y=p[1],g=[1,0,0,1,0,0];le.rotate(g,g,h);var x=[1,0];L.transformMat2d(x,x,g),x=[x[0],x[1]];var M=[a.x-i.x,a.y-i.y];if(L.zero(M))return{x:0,y:0};var k=L.angleTo(x,M,v<h);Math.abs(k-Math.PI*2)<.001&&(k=0);var S=L.length(M),O=k/(v-h);O=v-h>0?O:-O;var b=(S-d)/(y-d),A={};return A[l]=O,A[f]=b,A}}]),e}(Di);const df=pf;var yn={rect:fa,polar:df},yf=function(){function t(){D(this,t)}return T(t,[{key:"getOption",value:function(e){if(Q(e))return{type:yn[e]||fa};if(j(e))return{type:e};var n=e||{},a=n.type;return _(_({},e),{},{type:j(a)?a:yn[a]||fa})}},{key:"create",value:function(e,n){var a=this.getOption(e),i=a.type,s=new i(_(_({},a),n));return this.coord=s,s}},{key:"updateLayout",value:function(e){this.coord.update(e)}},{key:"update",value:function(){}}]),t}();const gf=yf;var Ii={};function mf(t){return Ii[t]}function rt(t,r){Ii[t]=r}var Ma=function(){function t(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return t.prototype.translate=function(r){return r},t.prototype.change=function(r){X(this.__cfg__,r),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var r=this;return ke(this.ticks,function(e,n){return ye(e)?e:{text:r.getText(e,n),tickValue:e,value:r.scale(e)}})},t.prototype.getText=function(r,e){var n=this.formatter,a=n?n(r,e):r;return w(a)||!j(a.toString)?"":a.toString()},t.prototype.getConfig=function(r){return this.__cfg__[r]},t.prototype.init=function(){X(this,this.__cfg__),this.setDomain(),Rs(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var r=this.tickMethod,e=[];if(Q(r)){var n=mf(r);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else j(r)&&(e=r(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(r,e,n){return W(r)?(r-e)/(n-e):NaN},t.prototype.calcValue=function(r,e,n){return e+r*(n-e)},t}(),pr=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},r.prototype.translate=function(e){this.buildIndexMap();var n=this.translateIndexMap.get(e);return n===void 0&&(n=W(e)?e:NaN),n},r.prototype.scale=function(e){var n=this.translate(e),a=this.calcPercent(n,this.min,this.max);return this.calcValue(a,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(e){var n=this.max-this.min,a=this.calcPercent(e,this.rangeMin(),this.rangeMax()),i=Math.round(n*a)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},r.prototype.getText=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=e;return W(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,qn([i],n))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if(w(this.getConfig("min"))&&(this.min=0),w(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(Ma),Ri=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Lt="\\d\\d?",Ot="\\d\\d",xf="\\d{3}",_f="\\d{4}",be="[^\\s]+",Oi=/\[([^]*?)\]/gm;function Li(t,r){for(var e=[],n=0,a=t.length;n<a;n++)e.push(t[n].substr(0,r));return e}var gn=function(t){return function(r,e){var n=e[t].map(function(i){return i.toLowerCase()}),a=n.indexOf(r.toLowerCase());return a>-1?a:null}};function Ft(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];for(var n=0,a=r;n<a.length;n++){var i=a[n];for(var s in i)t[s]=i[s]}return t}var Yi=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ni=["January","February","March","April","May","June","July","August","September","October","November","December"],wf=Li(Ni,3),Mf=Li(Yi,3),ka={dayNamesShort:Mf,dayNames:Yi,monthNamesShort:wf,monthNames:Ni,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},or=Ft({},ka),Ei=function(t){return or=Ft(or,t)},mn=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Z=function(t,r){for(r===void 0&&(r=2),t=String(t);t.length<r;)t="0"+t;return t},kf={D:function(t){return String(t.getDate())},DD:function(t){return Z(t.getDate())},Do:function(t,r){return r.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Z(t.getDay())},ddd:function(t,r){return r.dayNamesShort[t.getDay()]},dddd:function(t,r){return r.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Z(t.getMonth()+1)},MMM:function(t,r){return r.monthNamesShort[t.getMonth()]},MMMM:function(t,r){return r.monthNames[t.getMonth()]},YY:function(t){return Z(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Z(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Z(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Z(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Z(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Z(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Z(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Z(t.getMilliseconds(),3)},a:function(t,r){return t.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(t,r){return t.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(t){var r=t.getTimezoneOffset();return(r>0?"-":"+")+Z(Math.floor(Math.abs(r)/60)*100+Math.abs(r)%60,4)},Z:function(t){var r=t.getTimezoneOffset();return(r>0?"-":"+")+Z(Math.floor(Math.abs(r)/60),2)+":"+Z(Math.abs(r)%60,2)}},xn=function(t){return+t-1},_n=[null,Lt],wn=[null,be],Mn=["isPm",be,function(t,r){var e=t.toLowerCase();return e===r.amPm[0]?0:e===r.amPm[1]?1:null}],kn=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var r=(t+"").match(/([+-]|\d\d)/gi);if(r){var e=+r[1]*60+parseInt(r[2],10);return r[0]==="+"?e:-e}return 0}],Sf={D:["day",Lt],DD:["day",Ot],Do:["day",Lt+be,function(t){return parseInt(t,10)}],M:["month",Lt,xn],MM:["month",Ot,xn],YY:["year",Ot,function(t){var r=new Date,e=+(""+r.getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",Lt,void 0,"isPm"],hh:["hour",Ot,void 0,"isPm"],H:["hour",Lt],HH:["hour",Ot],m:["minute",Lt],mm:["minute",Ot],s:["second",Lt],ss:["second",Ot],YYYY:["year",_f],S:["millisecond","\\d",function(t){return+t*100}],SS:["millisecond",Ot,function(t){return+t*10}],SSS:["millisecond",xf],d:_n,dd:_n,ddd:wn,dddd:wn,MMM:["month",be,gn("monthNamesShort")],MMMM:["month",be,gn("monthNames")],a:Mn,A:Mn,ZZ:kn,Z:kn},ur={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Fi=function(t){return Ft(ur,t)},$i=function(t,r,e){if(r===void 0&&(r=ur.default),e===void 0&&(e={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");r=ur[r]||r;var n=[];r=r.replace(Oi,function(i,s){return n.push(s),"@@@"});var a=Ft(Ft({},or),e);return r=r.replace(Ri,function(i){return kf[i](t,a)}),r.replace(/@@@/g,function(){return n.shift()})};function ji(t,r,e){if(e===void 0&&(e={}),typeof r!="string")throw new Error("Invalid format in fecha parse");if(r=ur[r]||r,t.length>1e3)return null;var n=new Date,a={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],s=[],o=r.replace(Oi,function(k,S){return s.push(mn(S)),"@@@"}),u={},l={};o=mn(o).replace(Ri,function(k){var S=Sf[k],O=S[0],b=S[1],A=S[3];if(u[O])throw new Error("Invalid format. "+O+" specified twice in format");return u[O]=!0,A&&(l[A]=!0),i.push(S),"("+b+")"}),Object.keys(l).forEach(function(k){if(!u[k])throw new Error("Invalid format. "+k+" is required in specified format")}),o=o.replace(/@@@/g,function(){return s.shift()});var f=t.match(new RegExp(o,"i"));if(!f)return null;for(var c=Ft(Ft({},or),e),h=1;h<f.length;h++){var v=i[h-1],p=v[0],d=v[2],y=d?d(f[h],c):+f[h];if(y==null)return null;a[p]=y}a.isPm===1&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===0&&+a.hour==12&&(a.hour=0);var g;if(a.timezoneOffset==null){g=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond);for(var x=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,M=x.length;h<M;h++)if(u[x[h][0]]&&a[x[h][0]]!==g[x[h][1]]())return null}else if(g=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond)),a.month>11||a.month<0||a.day>31||a.day<1||a.hour>23||a.hour<0||a.minute>59||a.minute<0||a.second>59||a.second<0)return null;return g}var Bi={format:$i,parse:ji,defaultI18n:ka,setGlobalDateI18n:Ei,setGlobalDateMasks:Fi};const bf=Object.freeze(Object.defineProperty({__proto__:null,assign:Ft,default:Bi,defaultI18n:ka,format:$i,parse:ji,setGlobalDateI18n:Ei,setGlobalDateMasks:Fi},Symbol.toStringTag,{value:"Module"}));function Cf(t){return function(r,e,n,a){for(var i=w(n)?0:n,s=w(a)?r.length:a;i<s;){var o=i+s>>>1;t(r[o])>e?s=o:i=o+1}return i}}var Sn="format";function zi(t,r){var e=bf[Sn]||Bi[Sn];return e(t,r)}function lr(t){return Q(t)&&(t.indexOf("T")>0?t=new Date(t).getTime():t=new Date(t.replace(/-/gi,"/")).getTime()),da(t)&&(t=t.getTime()),t}var ct=1e3,Ut=60*ct,Zt=60*Ut,At=24*Zt,Ce=At*31,bn=At*365,we=[["HH:mm:ss",ct],["HH:mm:ss",ct*10],["HH:mm:ss",ct*30],["HH:mm",Ut],["HH:mm",Ut*10],["HH:mm",Ut*30],["HH",Zt],["HH",Zt*6],["HH",Zt*12],["YYYY-MM-DD",At],["YYYY-MM-DD",At*4],["YYYY-WW",At*7],["YYYY-MM",Ce],["YYYY-MM",Ce*4],["YYYY-MM",Ce*6],["YYYY",At*380]];function Pf(t,r,e){var n=(r-t)/e,a=Cf(function(s){return s[1]})(we,n)-1,i=we[a];return a<0?i=we[0]:a>=we.length&&(i=ht(we)),i}var Af=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="timeCat",e}return r.prototype.translate=function(e){e=lr(e);var n=this.values.indexOf(e);return n===-1&&(W(e)&&e<this.values.length?n=e:n=NaN),n},r.prototype.getText=function(e,n){var a=this.translate(e);if(a>-1){var i=this.values[a],s=this.formatter;return i=s?s(i,n):zi(i,this.mask),i}return e},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var e=this.values;F(e,function(n,a){e[a]=lr(n)}),e.sort(function(n,a){return n-a}),t.prototype.setDomain.call(this)},r}(pr),dr=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return r.prototype.scale=function(e){if(w(e))return NaN;var n=this.rangeMin(),a=this.rangeMax(),i=this.max,s=this.min;if(i===s)return n;var o=this.getScalePercent(e);return n+o*(a-n)},r.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=Et(e),a=ht(e);n<this.min&&(this.min=n),a>this.max&&(this.max=a),w(this.minLimit)||(this.min=n),w(this.maxLimit)||(this.max=a)},r.prototype.setDomain=function(){var e=Bn(this.values),n=e.min,a=e.max;w(this.min)&&(this.min=n),w(this.max)&&(this.max=a),this.min>this.max&&(this.min=n,this.max=a)},r.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=jn(n,function(a){return a>=e.min&&a<=e.max})),n},r.prototype.getScalePercent=function(e){var n=this.max,a=this.min;return(e-a)/(n-a)},r.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(Ma),Sa=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return r.prototype.invert=function(e){var n=this.getInvertPercent(e);return this.min+n*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(dr);function Yt(t,r){var e=Math.E,n;return r>=0?n=Math.pow(e,Math.log(r)/t):n=Math.pow(e,Math.log(-r)/t)*-1,n}function ot(t,r){return t===1?1:Math.log(r)/Math.log(t)}function Xi(t,r,e){w(e)&&(e=Math.max.apply(null,t));var n=e;return F(t,function(a){a>0&&a<n&&(n=a)}),n===e&&(n=e/r),n>1&&(n=1),n}var Tf=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="log",e}return r.prototype.invert=function(e){var n=this.base,a=ot(n,this.max),i=this.rangeMin(),s=this.rangeMax()-i,o,u=this.positiveMin;if(u){if(e===0)return 0;o=ot(n,u/n);var l=1/(a-o)*s;if(e<l)return e/l*u}else o=ot(n,this.min);var f=(e-i)/s,c=f*(a-o)+o;return Math.pow(n,c)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");e===0&&(this.positiveMin=Xi(this.values,this.base,this.max))},r.prototype.getScalePercent=function(e){var n=this.max,a=this.min;if(n===a||e<=0)return 0;var i=this.base,s=this.positiveMin;s&&(a=s*1/i);var o;return e<s?o=e/s/(ot(i,n)-ot(i,a)):o=(ot(i,e)-ot(i,a))/(ot(i,n)-ot(i,a)),o},r}(dr),Df=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="pow",e}return r.prototype.invert=function(e){var n=this.getInvertPercent(e),a=this.exponent,i=Yt(a,this.max),s=Yt(a,this.min),o=n*(i-s)+s,u=o>=0?1:-1;return Math.pow(o,a)*u},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(e){var n=this.max,a=this.min;if(n===a)return 0;var i=this.exponent,s=(Yt(i,e)-Yt(i,a))/(Yt(i,n)-Yt(i,a));return s},r}(dr),If=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="time",e}return r.prototype.getText=function(e,n){var a=this.translate(e),i=this.formatter;return i?i(a,n):zi(a,this.mask)},r.prototype.scale=function(e){var n=e;return(Q(n)||da(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},r.prototype.translate=function(e){return lr(e)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var e=this.values,n=this.getConfig("min"),a=this.getConfig("max");if((!w(n)||!W(n))&&(this.min=this.translate(this.min)),(!w(a)||!W(a))&&(this.max=this.translate(this.max)),e&&e.length){var i=[],s=1/0,o=s,u=0;F(e,function(l){var f=lr(l);if(isNaN(f))throw new TypeError("Invalid Time: "+l+" in time scale!");s>f?(o=s,s=f):o>f&&(o=f),u<f&&(u=f),i.push(f)}),e.length>1&&(this.minTickInterval=o-s),w(n)&&(this.min=s),w(a)&&(this.max=u)}},r}(Sa),Hi=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="quantize",e}return r.prototype.invert=function(e){var n=this.ticks,a=n.length,i=this.getInvertPercent(e),s=Math.floor(i*(a-1));if(s>=a-1)return ht(n);if(s<0)return Et(n);var o=n[s],u=n[s+1],l=s/(a-1),f=(s+1)/(a-1);return o+(i-l)/(f-l)*(u-o)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(ht(e)!==this.max&&e.push(this.max),Et(e)!==this.min&&e.unshift(this.min)),e},r.prototype.getScalePercent=function(e){var n=this.ticks;if(e<Et(n))return 0;if(e>ht(n))return 1;var a=0;return F(n,function(i,s){if(e>=i)a=s;else return!1}),a/(n.length-1)},r}(dr),Rf=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="quantile",e}return r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(Hi),Wi={};function Vi(t){return Wi[t]}function kt(t,r){if(Vi(t))throw new Error("type '"+t+"' existed.");Wi[t]=r}var qi=function(t){Mt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(e){return this.values[0]!==e&&W(e)?e:this.range[0]},r.prototype.invert=function(e){var n=this.range;return e<n[0]||e>n[1]?NaN:this.values[0]},r}(Ma);function Gi(t){var r=t.values,e=t.tickInterval,n=t.tickCount,a=t.showLast;if(W(e)){var i=jn(r,function(p,d){return d%e===0}),s=ht(r);return a&&ht(i)!==s&&i.push(s),i}var o=r.length,u=t.min,l=t.max;if(w(u)&&(u=0),w(l)&&(l=r.length-1),!W(n)||n>=o)return r.slice(u,l+1);if(n<=0||l<=0)return[];for(var f=n===1?o:Math.floor(o/(n-1)),c=[],h=u,v=0;v<n&&!(h>=l);v++)h=Math.min(u+v*f,l),v===n-1&&a?c.push(r[l]):c.push(r[h]);return c}function Of(t){var r=t.min,e=t.max,n=t.nice,a=t.tickCount,i=new Lf;return i.domain([r,e]),n&&i.nice(a),i.ticks(a)}var zr=5,Cn=Math.sqrt(50),Pn=Math.sqrt(10),An=Math.sqrt(2),Lf=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},t.prototype.nice=function(r){var e,n;r===void 0&&(r=zr);var a=this._domain.slice(),i=0,s=this._domain.length-1,o=this._domain[i],u=this._domain[s],l;return u<o&&(e=[u,o],o=e[0],u=e[1],n=[s,i],i=n[0],s=n[1]),l=Ke(o,u,r),l>0?(o=Math.floor(o/l)*l,u=Math.ceil(u/l)*l,l=Ke(o,u,r)):l<0&&(o=Math.ceil(o*l)/l,u=Math.floor(u*l)/l,l=Ke(o,u,r)),l>0?(a[i]=Math.floor(o/l)*l,a[s]=Math.ceil(u/l)*l,this.domain(a)):l<0&&(a[i]=Math.ceil(o*l)/l,a[s]=Math.floor(u*l)/l,this.domain(a)),this},t.prototype.ticks=function(r){return r===void 0&&(r=zr),Yf(this._domain[0],this._domain[this._domain.length-1],r||zr)},t}();function Yf(t,r,e){var n,a=-1,i,s,o;if(r=+r,t=+t,e=+e,t===r&&e>0)return[t];if((n=r<t)&&(i=t,t=r,r=i),(o=Ke(t,r,e))===0||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),r=Math.floor(r/o),s=new Array(i=Math.ceil(r-t+1));++a<i;)s[a]=(t+a)*o;else for(t=Math.floor(t*o),r=Math.ceil(r*o),s=new Array(i=Math.ceil(t-r+1));++a<i;)s[a]=(t-a)/o;return n&&s.reverse(),s}function Ke(t,r,e){var n=(r-t)/Math.max(0,e),a=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,a);return a>=0?(i>=Cn?10:i>=Pn?5:i>=An?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Cn?10:i>=Pn?5:i>=An?2:1)}function Tn(t,r,e){var n;return e==="ceil"?n=Math.ceil(t/r):e==="floor"?n=Math.floor(t/r):n=Math.round(t/r),n*r}function ba(t,r,e){var n=Tn(t,e,"floor"),a=Tn(r,e,"ceil");n=Dr(n,e),a=Dr(a,e);for(var i=[],s=Math.max((a-n)/(Math.pow(2,12)-1),e),o=n;o<=a;o=o+s){var u=Dr(o,s);i.push(u)}return{min:n,max:a,ticks:i}}function Ca(t,r,e){var n,a=t.minLimit,i=t.maxLimit,s=t.min,o=t.max,u=t.tickCount,l=u===void 0?5:u,f=w(a)?w(r)?s:r:a,c=w(i)?w(e)?o:e:i;if(f>c&&(n=[f,c],c=n[0],f=n[1]),l<=2)return[f,c];for(var h=(c-f)/(l-1),v=[],p=0;p<l;p++)v.push(f+h*p);return v}function Nf(t){var r=t.min,e=t.max,n=t.tickInterval,a=t.minLimit,i=t.maxLimit,s=Of(t);return!w(a)||!w(i)?Ca(t,Et(s),ht(s)):n?ba(r,e,n).ticks:s}function Wt(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var Ef=[1,5,2,2.5,4,3],Dn=Number.EPSILON*100;function Ff(t,r){return(t%r+r)%r}function $f(t){return Math.round(t*1e12)/1e12}function jf(t,r,e,n,a,i){var s=Vn(r),o=Wn(r,t),u=0,l=Ff(n,i);return(l<Dn||i-l<Dn)&&n<=0&&a>=0&&(u=1),1-o/(s-1)-e+u}function Bf(t,r,e){var n=Vn(r),a=Wn(r,t),i=1;return 1-a/(n-1)-e+i}function zf(t,r,e,n,a,i){var s=(t-1)/(i-a),o=(r-1)/(Math.max(i,n)-Math.min(e,a));return 2-Math.max(s/o,o/s)}function Xf(t,r){return t>=r?2-(t-1)/(r-1):1}function Hf(t,r,e,n){var a=r-t;return 1-.5*(Math.pow(r-n,2)+Math.pow(t-e,2))/Math.pow(.1*a,2)}function Wf(t,r,e){var n=r-t;if(e>n){var a=(e-n)/2;return 1-Math.pow(a,2)/Math.pow(.1*n,2)}return 1}function Vf(){return 1}function qf(t,r,e,n,a,i){e===void 0&&(e=5),n===void 0&&(n=!0),a===void 0&&(a=Ef),i===void 0&&(i=[.25,.2,.5,.05]);var s=e<0?0:Math.round(e);if(Number.isNaN(t)||Number.isNaN(r)||typeof t!="number"||typeof r!="number"||!s)return{min:0,max:0,ticks:[]};if(r-t<1e-15||s===1)return{min:t,max:r,ticks:[t]};if(r-t>1e148){var o=e||5,u=(r-t)/o;return{min:t,max:r,ticks:Array(o).fill(null).map(function(ee,re){return Wt(t+u*re)})}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},f=1;f<1/0;){for(var c=0;c<a.length;c+=1){var h=a[c],v=Bf(h,a,f);if(i[0]*v+i[1]+i[2]+i[3]<l.score){f=1/0;break}for(var p=2;p<1/0;){var d=Xf(p,s);if(i[0]*v+i[1]+i[2]*d+i[3]<l.score)break;for(var y=(r-t)/(p+1)/f/h,g=Math.ceil(Math.log10(y));g<1/0;){var x=f*h*Math.pow(10,g),M=Wf(t,r,x*(p-1));if(i[0]*v+i[1]*M+i[2]*d+i[3]<l.score)break;var k=Math.floor(r/x)*f-(p-1)*f,S=Math.ceil(t/x)*f;if(k<=S)for(var o=S-k,O=0;O<=o;O+=1){var b=k+O,A=b*(x/f),m=A+x*(p-1),C=x,z=jf(h,a,f,A,m,C),R=Hf(t,r,A,m),U=zf(p,s,t,r,A,m),ut=Vf(),vt=i[0]*z+i[1]*R+i[2]*U+i[3]*ut;vt>l.score&&(!n||A<=t&&m>=r)&&(l.lmin=A,l.lmax=m,l.lstep=C,l.score=vt)}g+=1}p+=1}}f+=1}var jt=Wt(l.lmax),at=Wt(l.lmin),Tt=Wt(l.lstep),pt=Math.floor($f((jt-at)/Tt))+1,nt=new Array(pt);nt[0]=Wt(at);for(var c=1;c<pt;c++)nt[c]=Wt(nt[c-1]+Tt);return{min:Math.min(t,Et(nt)),max:Math.max(r,ht(nt)),ticks:nt}}function Gf(t){var r=t.min,e=t.max,n=t.tickCount,a=t.nice,i=t.tickInterval,s=t.minLimit,o=t.maxLimit,u=qf(r,e,n,a).ticks;return!w(s)||!w(o)?Ca(t,Et(u),ht(u)):i?ba(r,e,i).ticks:u}function Uf(t){var r=t.base,e=t.tickCount,n=t.min,a=t.max,i=t.values,s,o=ot(r,a);if(n>0)s=Math.floor(ot(r,n));else{var u=Xi(i,r,a);s=Math.floor(ot(r,u))}for(var l=o-s,f=Math.ceil(l/e),c=[],h=s;h<o+f;h=h+f)c.push(Math.pow(r,h));return n<=0&&c.unshift(0),c}function Ui(t,r,e){if(e===void 0&&(e=5),t===r)return{max:r,min:t,ticks:[t]};var n=e<0?0:Math.round(e);if(n===0)return{max:r,min:t,ticks:[]};var a=1.5,i=.5+1.5*a,s=r-t,o=s/n,u=Math.pow(10,Math.floor(Math.log10(o))),l=u;2*u-o<a*(o-l)&&(l=2*u,5*u-o<i*(o-l)&&(l=5*u,10*u-o<a*(o-l)&&(l=10*u)));for(var f=Math.ceil(r/l),c=Math.floor(t/l),h=Math.max(f*l,r),v=Math.min(c*l,t),p=Math.floor((h-v)/l)+1,d=new Array(p),y=0;y<p;y++)d[y]=Wt(v+y*l);return{min:v,max:h,ticks:d}}function Zf(t){var r=t.exponent,e=t.tickCount,n=Math.ceil(Yt(r,t.max)),a=Math.floor(Yt(r,t.min)),i=Ui(a,n,e).ticks;return i.map(function(s){var o=s>=0?1:-1;return Math.pow(s,r)*o})}function Jf(t,r){var e=t.length*r;return r===1?t[t.length-1]:r===0?t[0]:e%1!==0?t[Math.ceil(e)-1]:t.length%2===0?(t[e-1]+t[e])/2:t[e]}function Kf(t){var r=t.tickCount,e=t.values;if(!e||!e.length)return[];for(var n=e.slice().sort(function(o,u){return o-u}),a=[],i=0;i<r;i++){var s=i/(r-1);a.push(Jf(n,s))}return a}function Qf(t){var r=t.min,e=t.max,n=t.tickCount,a=t.tickInterval,i=t.minLimit,s=t.maxLimit,o=Ui(r,e,n).ticks;return!w(i)||!w(s)?Ca(t,Et(o),ht(o)):a?ba(r,e,a).ticks:o}function tc(t){var r=t.min,e=t.max,n=t.minTickInterval,a=t.tickInterval,i=t.tickCount;if(a)i=Math.ceil((e-r)/a);else{a=Pf(r,e,i)[1];var s=(e-r)/a,o=s/i;o>1&&(a=a*Math.ceil(o)),n&&a<n&&(a=n)}a=Math.max(Math.floor((e-r)/(Math.pow(2,12)-1)),a);for(var u=[],l=r;l<e+a;l+=a)u.push(l);return u}function ec(t){var r=Gi(Ur({showLast:!0},t));return r}function fr(t){return new Date(t).getFullYear()}function rc(t){return new Date(t,0,1).getTime()}function ca(t){return new Date(t).getMonth()}function ac(t,r){var e=fr(t),n=fr(r),a=ca(t),i=ca(r);return(n-e)*12+(i-a)%12}function nc(t,r){return new Date(t,r,1).getTime()}function ic(t,r){return Math.ceil((r-t)/At)}function sc(t,r){return Math.ceil((r-t)/Zt)}function oc(t,r){return Math.ceil((r-t)/(60*1e3))}function uc(t){var r=t.min,e=t.max,n=t.minTickInterval,a=t.tickCount,i=t.tickInterval,s=[];i||(i=(e-r)/a,n&&i<n&&(i=n)),i=Math.max(Math.floor((e-r)/(Math.pow(2,12)-1)),i);var o=fr(r);if(i>bn)for(var u=fr(e),l=Math.ceil(i/bn),f=o;f<=u+l;f=f+l)s.push(rc(f));else if(i>Ce)for(var c=Math.ceil(i/Ce),h=ca(r),v=ac(r,e),f=0;f<=v+c;f=f+c)s.push(nc(o,f+h));else if(i>At)for(var p=new Date(r),d=p.getFullYear(),y=p.getMonth(),g=p.getDate(),x=Math.ceil(i/At),M=ic(r,e),f=0;f<M+x;f=f+x)s.push(new Date(d,y,g+f).getTime());else if(i>Zt)for(var p=new Date(r),d=p.getFullYear(),y=p.getMonth(),x=p.getDate(),k=p.getHours(),S=Math.ceil(i/Zt),O=sc(r,e),f=0;f<=O+S;f=f+S)s.push(new Date(d,y,x,k+f).getTime());else if(i>Ut)for(var b=oc(r,e),A=Math.ceil(i/Ut),f=0;f<=b+A;f=f+A)s.push(r+f*Ut);else{var m=i;m<ct&&(m=ct);for(var C=Math.floor(r/ct)*ct,z=Math.ceil((e-r)/ct),R=Math.ceil(m/ct),f=0;f<z+R;f=f+R)s.push(C+f*ct)}return s.length>=512&&console.warn("Notice: current ticks length("+s.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+i+") is too small, increase the value to solve the problem!"),s}rt("cat",Gi);rt("time-cat",ec);rt("wilkinson-extended",Gf);rt("r-pretty",Qf);rt("time",tc);rt("time-pretty",uc);rt("log",Uf);rt("pow",Zf);rt("quantile",Kf);rt("d3-linear",Nf);kt("cat",pr);kt("category",pr);kt("identity",qi);kt("linear",Sa);kt("log",Tf);kt("pow",Df);kt("time",If);kt("timeCat",Af);kt("quantize",Hi);kt("quantile",Rf);const Zi=function(t){var r=t.values,e=t.tickCount;if(!e||r.length<=1)return r;for(var n=Math.floor(r.length/(e-1))||1,a=[],i=0;i<r.length;i=i+n)a.push(r[i]);var s=r[r.length-1];return a[a.length-1]!==s&&(a.length>=e?a[a.length-1]=s:a.push(s)),a};var Vt=[1,1.2,1.5,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],lc=5;const fc=function(t){var r=t||{},e=r.tickCount,n=r.tickInterval,a=t||{},i=a.min,s=a.max;i=isNaN(i)?0:i,s=isNaN(s)?0:s;var o=e&&e>=2?e:lc,u=n||hc({tickCount:o,max:s,min:i}),l=Math.floor(i/u)*u;if(n){var f=Math.abs(Math.ceil((s-l)/n))+1;o=Math.max(o,f)}var c=0,h=ha(u);if(i<0&&s>0&&o===2)return[Qe(l,h),Qe(Math.ceil(s/u)*u,h)];for(var v=[];c<o;)v.push(Qe(l+c*u,h)),c++;return v};var cc=12;function In(t){t=Math.abs(t);var r=1;if(t===0)return r;if(t<1){for(var e=0;t<1;)r=r/10,t=t*10,e++;return r.toString().length>cc&&(r=parseFloat(r.toFixed(e))),r}for(;t>10;)r=r*10,t=t/10;return r}function hc(t){var r=t.tickCount,e=t.min,n=t.max;if(e===n)return 1*In(n);for(var a=(n-e)/(r-1),i=In(a),s=a/i,o=n/i,u=e/i,l=0,f=0;f<Vt.length;f++){var c=Vt[f];if(s<=c){l=f;break}}var h=e<0&&n>0&&r===2?Vt[l]:Ji(l,r,u,o),v=ha(h)+ha(i);return Qe(h*i,v)}function Ji(t,r,e,n){for(var a=!1,i=Vt[t],s=t;s<Vt.length;s++)if(vc({interval:Vt[s],tickCount:r,max:n,min:e})){i=Vt[s],a=!0;break}return a?i:10*Ji(0,r,e/10,n/10)}function vc(t){var r=t.interval,e=t.tickCount,n=t.max,a=t.min,i=Math.floor(a/r)*r;return i+(e-1)*r>=n}function ha(t){var r=t.toString(),e=r.indexOf("."),n=r.indexOf("e-"),a=n>=0?parseInt(r.substr(n+2),10):r.substr(e+1).length;return a>20&&(a=20),a}function Qe(t,r){return parseFloat(t.toFixed(r))}rt("cat",Zi);rt("time-cat",Zi);rt("wilkinson-extended",fc);var pc=function(){function t(r){D(this,t),this.data=r,this.options={},this.scales={}}return T(t,[{key:"_getType",value:function(e){var n=e.type,a=e.values,i=e.field;return n||(W(i)||w(a[0])&&i?"identity":typeof a[0]=="number"?"linear":"cat")}},{key:"_getOption",value:function(e){var n=e.values,a=e.field,i=e.justifyContent,s=this._getType(e);if(e.type=s,s==="identity")return e.field=a.toString(),e.values=[a],e;if(s==="linear"){typeof e.nice!="boolean"&&(e.nice=!0);var o=Bn(n),u=o.min,l=o.max;return w(e.min)&&(e.min=u),w(e.max)&&(e.max=l),e.values=n.sort(function(p,d){return p-d}),e}if(s==="cat"||s==="timeCat"){if(e.range)return e;var f=n.length,c=[0,1];if(f===1)c=[.5,1];else if(i){var h=1/f*.5;c=[h,1-h]}else{var v=1/f;c=[0,1-v]}e.range=c}return e}},{key:"createScale",value:function(e){var n=e.type;if(j(n))return new n(e);var a=Vi(n);return new a(e)}},{key:"setScale",value:function(e,n){var a=this.options,i=this.scales;a[e]=X({},a[e],n),i[e]&&delete i[e]}},{key:"create",value:function(e){this.update(e)}},{key:"update",value:function(e){var n=this;e&&(F(e,function(a,i){n.setScale(i,a)}),this.scales=_({},this.scales))}},{key:"changeData",value:function(e){this.data=e,this.scales={}}},{key:"getData",value:function(){return this.data}},{key:"getScale",value:function(e){var n=this.scales,a=this.options,i=this.data,s=n[e];if(s)return s;var o=a[e];if(!o)return null;var u=o.values?o.values:i?cr(i,e):[],l=this._getOption(_(_({},o),{},{field:e,values:u})),f=this.createScale(l);return n[e]=f,f}},{key:"getScales",value:function(){var e=this,n=this.options,a=this.scales;return F(n,function(i,s){e.getScale(s)}),a}},{key:"adjustStartZero",value:function(e){var n=this.options,a=e.field,i=e.min,s=e.max,o=n[a];o&&o.min||(i>0?e.change({min:0}):s<0&&e.change({max:0}))}},{key:"adjustPieScale",value:function(e){var n=this.options,a=e.field,i=n[a];if(i&&!w(i.nice))return null;e.change({nice:!1})}},{key:"getZeroValue",value:function(e){var n=e.min,a=e.max,i;return n>=0?i=n:a<=0?i=a:i=0,e.scale(i)}}]),t}();const dc=pc;var yc=function(t){N(e,t);var r=E(e);function e(n,a,i){var s;D(this,e),s=r.call(this,n,a,i),s.componentsPosition=[];var o=n.data,u=n.coord,l=n.scale,f=l===void 0?[]:l;s.layoutController=new cf,s.coordController=new gf,s.scaleController=new dc(o),s.scale=s.scaleController;var c=pe(s),h=c.layoutController,v=c.coordController,p=c.scaleController,d=s.getStyle(n,a);return s.layout=h.create(d),s.coord=v.create(u,s.layout),p.create(f),s.data=o,s.state={filters:{}},s}return T(e,[{key:"willReceiveProps",value:function(a,i){var s=this.layoutController,o=this.coordController,u=this.scaleController,l=this.props,f=a.style,c=a.data,h=a.scale,v=l.style,p=l.data,d=l.scale;if(!wt(f,v)||i!==this.context){var y=this.getStyle(a,i);this.layout=s.create(y),o.updateLayout(this.layout)}c!==p&&u.changeData(c),wt(h,d)||u.update(h)}},{key:"willUpdate",value:function(){var a=this.coordController,i=this.props;this.coord=a.create(i.coord,this.layout)}},{key:"getStyle",value:function(a,i){var s=i.theme,o=i.px2hd,u=i.left,l=i.top,f=i.width,c=i.height,h=a.style;return o(_(_({left:u,top:l,width:f,height:c},s.chart),h))}},{key:"layoutCoord",value:function(a){var i=this.coord,s=a.position,o=a.width,u=a.height,l=i.left,f=i.top,c=i.width,h=i.height;switch(s){case"left":l+=o,c=Math.max(0,c-o);break;case"right":c=Math.max(0,c-o);break;case"top":f+=u,h=Math.max(0,h-u);break;case"bottom":h=Math.max(0,h-u);break}i.update({left:l,top:f,width:c,height:h})}},{key:"resetCoordLayout",value:function(){var a=this.coord,i=this.layout;a.update(i)}},{key:"updateCoordLayout",value:function(a){var i=this;if(P(a)){a.forEach(function(s){i.layoutCoord(s)});return}this.layoutCoord(a)}},{key:"updateCoordFor",value:function(a,i){var s=this;if(i){var o=this.componentsPosition,u={component:a,layout:i},l=ds(o,function(f){return f.component===a});if(l>-1){o.splice(l,1,u),this.resetCoordLayout(),o.forEach(function(f){var c=f.layout;s.updateCoordLayout(c)});return}o.push(u),this.updateCoordLayout(i)}}},{key:"getGeometrys",value:function(){var a=this.children,i=[];return G.toArray(a).forEach(function(s){if(!s)return!1;var o=s.component;o&&o.isGeometry&&i.push(o)}),i}},{key:"getPosition",value:function(a){for(var i=this.getCoord(),s=this.getXScales()[0],o=s.field,u=this.getYScales(),l=u[0],f=l.field,c=0,h=u.length;c<h;c++){var v=u[c],p=v.field;if(a[p]){l=v,f=p;break}}var d=s.scale(a[o]),y=l.scale(a[f]);return i.convertPoint({x:d,y})}},{key:"getSnapRecords",value:function(a,i){var s=this.getGeometrys();if(s.length)return s[0].getSnapRecords(a,i)}},{key:"getLegendItems",value:function(a){var i=this.getGeometrys();if(i.length)return i[0].getLegendItems(a)}},{key:"setScale",value:function(a,i){this.scaleController.setScale(a,i)}},{key:"getScale",value:function(a){return this.scaleController.getScale(a)}},{key:"getScales",value:function(){return this.scaleController.getScales()}},{key:"getXScales",value:function(){var a=this.getGeometrys();return a.map(function(i){return i.getXScale()})}},{key:"getYScales",value:function(){var a=this.getGeometrys();return a.map(function(i){return i.getYScale()})}},{key:"getCoord",value:function(){return this.coord}},{key:"filter",value:function(a,i){var s=this.state.filters;this.setState({filters:_(_({},s),{},tr({},a,i))})}},{key:"_getRenderData",value:function(){var a=this.props,i=this.state,s=a.data,o=i.filters;if(!o||!Object.keys(o).length)return s;var u=s;return F(o,function(l,f){l&&(u=u.filter(function(c){return l(c[f],c)}))}),u}},{key:"render",value:function(){var a=this,i=this.props,s=this.layout,o=this.coord,u=i.children,l=i.data;if(!l)return null;var f=this._getRenderData();return G.map(u,function(c){return G.cloneElement(c,{chart:a,coord:o,data:f,layout:s})})}}]),e}(vr);const gc=yc;function mc(t,r,e){if(t===r)return!0;for(var n=0,a=e.length;n<a;n++){var i=e[n];if(t[i]!==r[i])return!1}return!0}var xc=function(t){N(e,t);var r=E(e);function e(n,a){var i;D(this,e),i=r.call(this,n,a);var s=n.selection;if(!s)return Jn(i);var o=s.defaultSelected;return i.state.selected=o,i}return T(e,[{key:"didMount",value:function(){var a=this,i=this.props,s=this.state,o=this.container,u=o.get("canvas"),l=i.selection,f=i.chart;if(l){var c=l.triggerOn,h=c===void 0?"click":c;u.on(h,function(v){var p=v.points,d=a.getSnapRecords(p[0]),y=l.type,g=y===void 0?"single":y,x=l.cancelable,M=x===void 0?!0:x;if(!d||!d.length){M&&a.setState({selected:null});return}var k=s.selected,S=d.map(function(z){return z.origin});if((!k||!k.length)&&a.setState({selected:S}),g==="single"){if(!M){a.setState({selected:S});return}var O=[];d.forEach(function(z){a.isSelected(z)||O.push(z.origin)}),a.setState({selected:O});return}var b=f.getScales(),A=Object.keys(b),m={};k.forEach(function(z){var R=A.map(function(U){return z[U]}).join("-");m[R]=z}),d.forEach(function(z){var R=z.origin,U=A.map(function(ut){return R[ut]}).join("-");m[U]=m[U]?null:R});var C=Object.keys(m).map(function(z){return m[z]}).filter(Boolean);a.setState({selected:C})})}}},{key:"willReceiveProps",value:function(a){var i=a.selection,s=this.props.selection;if(!(!i||!s)){var o=i.defaultSelected,u=s.defaultSelected;wt(o,u)||(this.state.selected=o)}}},{key:"getSnapRecords",value:function(a){return null}},{key:"isSelected",value:function(a){var i=this.state,s=this.props,o=i.selected;if(!o||!o.length)return!1;for(var u=s.chart,l=u.getScales(),f=Object.keys(l),c=0,h=o.length;c<h;c++){var v=o[c];if(mc(a.origin,v,f))return!0}return!1}},{key:"getSelectionStyle",value:function(a){var i=this.state,s=this.props,o=i.selected;if(!o||!o.length)return null;var u=s.selection,l=u.selectedStyle,f=u.unSelectedStyle,c=this.isSelected(a);return c?j(l)?l(a):l:j(f)?f(a):f}}]),e}(vr);const _c=xc;var Rn=0,wc=1/2,Mc=1/2,kc=.05,yr=function(){function t(r){var e=r.xField,n=r.yField,a=r.adjustNames,i=a===void 0?["x","y"]:a,s=r.dimValuesMap;this.adjustNames=i,this.xField=e,this.yField=n,this.dimValuesMap=s}return t.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},t.prototype.getAdjustRange=function(r,e,n){var a=this.yField,i=n.indexOf(e),s=n.length,o,u;return!a&&this.isAdjust("y")?(o=0,u=1):s>1?(o=n[i===0?0:i-1],u=n[i===s-1?s-1:i+1],i!==0?o+=(e-o)/2:o-=(u-e)/2,i!==s-1?u-=(u-e)/2:u+=(e-n[s-2])/2):(o=e===0?0:e-.5,u=e===0?1:e+.5),{pre:o,next:u}},t.prototype.adjustData=function(r,e){var n=this,a=this.getDimValues(e);F(r,function(i,s){F(a,function(o,u){n.adjustDim(u,o,i,s)})})},t.prototype.groupData=function(r,e){return F(r,function(n){n[e]===void 0&&(n[e]=Rn)}),pa(r,e)},t.prototype.adjustDim=function(r,e,n,a){},t.prototype.getDimValues=function(r){var e=this,n=e.xField,a=e.yField,i=X({},this.dimValuesMap),s=[];if(n&&this.isAdjust("x")&&s.push(n),a&&this.isAdjust("y")&&s.push(a),s.forEach(function(u){i&&i[u]||(i[u]=cr(r,u).sort(function(l,f){return l-f}))}),!a&&this.isAdjust("y")){var o="y";i[o]=[Rn,1]}return i},t}(),Ki={},Qi=function(t){return Ki[t.toLowerCase()]},gr=function(t,r){if(Qi(t))throw new Error("Adjust type '"+t+"' existed.");Ki[t.toLowerCase()]=r};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var va=function(t,r){return va=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},va(t,r)};function mr(t,r){va(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var xt=function(){return xt=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},xt.apply(this,arguments)},Sc=function(t){mr(r,t);function r(e){var n=t.call(this,e)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var a=e.marginRatio,i=a===void 0?wc:a,s=e.dodgeRatio,o=s===void 0?Mc:s,u=e.dodgeBy,l=e.intervalPadding,f=e.dodgePadding,c=e.xDimensionLength,h=e.groupNum,v=e.defaultSize,p=e.maxColumnWidth,d=e.minColumnWidth,y=e.columnWidthRatio,g=e.customOffset;return n.marginRatio=i,n.dodgeRatio=o,n.dodgeBy=u,n.intervalPadding=l,n.dodgePadding=f,n.xDimensionLegenth=c,n.groupNum=h,n.defaultSize=v,n.maxColumnWidth=p,n.minColumnWidth=d,n.columnWidthRatio=y,n.customOffset=g,n}return r.prototype.process=function(e){var n=er(e),a=Pe(n),i=this.dodgeBy,s=i?_s(a,i):n;return this.cacheMap={},this.adjustDataArray=s,this.mergeData=a,this.adjustData(s,a),this.adjustDataArray=[],this.mergeData=[],n},r.prototype.adjustDim=function(e,n,a,i){var s=this,o=this.customOffset,u=this.getDistribution(e),l=this.groupData(a,e);return F(l,function(f,c){var h;n.length===1?h={pre:n[0]-1,next:n[0]+1}:h=s.getAdjustRange(e,parseFloat(c),n),F(f,function(v){var p=v[e],d=u[p],y=d.indexOf(i);if(w(o))v[e]=s.getDodgeOffset(h,y,d.length);else{var g=h.pre,x=h.next;v[e]=j(o)?o(v,h):(g+x)/2+o}})}),[]},r.prototype.getDodgeOffset=function(e,n,a){var i=this,s=i.dodgeRatio,o=i.marginRatio,u=i.intervalPadding,l=i.dodgePadding,f=e.pre,c=e.next,h=c-f,v;if(!w(u)&&w(l)&&u>=0){var p=this.getIntervalOnlyOffset(a,n);v=f+p}else if(!w(l)&&w(u)&&l>=0){var p=this.getDodgeOnlyOffset(a,n);v=f+p}else if(!w(u)&&!w(l)&&u>=0&&l>=0){var p=this.getIntervalAndDodgeOffset(a,n);v=f+p}else{var d=h*s/a,y=o*d,p=1/2*(h-a*d-(a-1)*y)+((n+1)*d+n*y)-1/2*d-1/2*h;v=(f+c)/2+p}return v},r.prototype.getIntervalOnlyOffset=function(e,n){var a=this,i=a.defaultSize,s=a.intervalPadding,o=a.xDimensionLegenth,u=a.groupNum,l=a.dodgeRatio,f=a.maxColumnWidth,c=a.minColumnWidth,h=a.columnWidthRatio,v=s/o,p=(1-(u-1)*v)/u*l/(e-1),d=((1-v*(u-1))/u-p*(e-1))/e;if(d=w(h)?d:1/u/e*h,!w(f)){var y=f/o;d=Math.min(d,y)}if(!w(c)){var g=c/o;d=Math.max(d,g)}d=i?i/o:d,p=((1-(u-1)*v)/u-e*d)/(e-1);var x=((1/2+n)*d+n*p+1/2*v)*u-v/2;return x},r.prototype.getDodgeOnlyOffset=function(e,n){var a=this,i=a.defaultSize,s=a.dodgePadding,o=a.xDimensionLegenth,u=a.groupNum,l=a.marginRatio,f=a.maxColumnWidth,c=a.minColumnWidth,h=a.columnWidthRatio,v=s/o,p=1*l/(u-1),d=((1-p*(u-1))/u-v*(e-1))/e;if(d=h?1/u/e*h:d,!w(f)){var y=f/o;d=Math.min(d,y)}if(!w(c)){var g=c/o;d=Math.max(d,g)}d=i?i/o:d,p=(1-(d*e+v*(e-1))*u)/(u-1);var x=((1/2+n)*d+n*v+1/2*p)*u-p/2;return x},r.prototype.getIntervalAndDodgeOffset=function(e,n){var a=this,i=a.intervalPadding,s=a.dodgePadding,o=a.xDimensionLegenth,u=a.groupNum,l=i/o,f=s/o,c=((1-l*(u-1))/u-f*(e-1))/e,h=((1/2+n)*c+n*f+1/2*l)*u-l/2;return h},r.prototype.getDistribution=function(e){var n=this.adjustDataArray,a=this.cacheMap,i=a[e];return i||(i={},F(n,function(s,o){var u=cr(s,e);u.length||u.push(0),F(u,function(l){i[l]||(i[l]=[]),i[l].push(o)})}),a[e]=i),i},r}(yr);function bc(t,r){return(r-t)*Math.random()+t}var Cc=function(t){mr(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.process=function(e){var n=er(e),a=Pe(n);return this.adjustData(n,a),n},r.prototype.adjustDim=function(e,n,a){var i=this,s=this.groupData(a,e);return F(s,function(o,u){return i.adjustGroup(o,e,parseFloat(u),n)})},r.prototype.getAdjustOffset=function(e){var n=e.pre,a=e.next,i=(a-n)*kc;return bc(n+i,a-i)},r.prototype.adjustGroup=function(e,n,a,i){var s=this,o=this.getAdjustRange(n,a,i);return F(e,function(u){u[n]=s.getAdjustOffset(o)}),e},r}(yr),Xr=Fs,Pc=function(t){mr(r,t);function r(e){var n=t.call(this,e)||this,a=e.adjustNames,i=a===void 0?["y"]:a,s=e.height,o=s===void 0?NaN:s,u=e.size,l=u===void 0?10:u,f=e.reverseOrder,c=f===void 0?!1:f;return n.adjustNames=i,n.height=o,n.size=l,n.reverseOrder=c,n}return r.prototype.process=function(e){var n=this,a=n.yField,i=n.reverseOrder,s=a?this.processStack(e):this.processOneDimStack(e);return i?this.reverse(s):s},r.prototype.reverse=function(e){return e.slice(0).reverse()},r.prototype.processStack=function(e){var n=this,a=n.xField,i=n.yField,s=n.reverseOrder,o=s?this.reverse(e):e,u=new Xr,l=new Xr;return o.map(function(f){return f.map(function(c){var h,v=qr(c,a,0),p=qr(c,[i]),d=v.toString();if(p=P(p)?p[1]:p,!w(p)){var y=p>=0?u:l;y.has(d)||y.set(d,0);var g=y.get(d),x=p+g;return y.set(d,x),xt(xt({},c),(h={},h[i]=[g,x],h))}return c})})},r.prototype.processOneDimStack=function(e){var n=this,a=this,i=a.xField,s=a.height,o=a.reverseOrder,u="y",l=o?this.reverse(e):e,f=new Xr;return l.map(function(c){return c.map(function(h){var v,p=n.size,d=h[i],y=p*2/s;f.has(d)||f.set(d,y/2);var g=f.get(d);return f.set(d,g+y),xt(xt({},h),(v={},v[u]=g,v))})})},r}(yr),Ac=function(t){mr(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.process=function(e){var n=Pe(e),a=this,i=a.xField,s=a.yField,o=this.getXValuesMaxMap(n),u=Math.max.apply(Math,Object.keys(o).map(function(l){return o[l]}));return ke(e,function(l){return ke(l,function(f){var c,h,v=f[s],p=f[i];if(P(v)){var d=(u-o[p])/2;return xt(xt({},f),(c={},c[s]=ke(v,function(g){return d+g}),c))}var y=(u-v)/2;return xt(xt({},f),(h={},h[s]=[y,v+y],h))})})},r.prototype.getXValuesMaxMap=function(e){var n=this,a=this,i=a.xField,s=a.yField,o=pa(e,function(u){return u[i]});return Ls(o,function(u){return n.getDimMaxValue(u,s)})},r.prototype.getDimMaxValue=function(e,n){var a=ke(e,function(s){return qr(s,n,[])}),i=Pe(a);return Math.max.apply(Math,i)},r}(yr);gr("Dodge",Sc);gr("Jitter",Cc);gr("Stack",Pc);gr("Symmetric",Ac);var Tc=function(){function t(r){D(this,t),X(this,r);var e=this.scale,n=this.field,a=this.data;if(!e&&a){var i=cr(a,n);this.scale=this.createScale({values:i,field:n})}}return T(t,[{key:"createScale",value:function(e){return null}},{key:"_mapping",value:function(e){return e}},{key:"update",value:function(e){X(this,e)}},{key:"setRange",value:function(e){this.range=e}},{key:"normalize",value:function(e){var n=this.scale;return P(e)?e.map(function(a){return n.scale(a)}):n.scale(e)}},{key:"convert",value:function(e){return e}},{key:"mapping",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=j(this.callback)?this.callback(e,n):null;return w(a)?this._mapping(e):a}}]),t}();const xr=Tc;var Dc=function(t){N(e,t);var r=E(e);function e(n){var a;return D(this,e),a=r.call(this,n),a._updateInterpolate(),a}return T(e,[{key:"createScale",value:function(a){return new Sa(a)}},{key:"_updateInterpolate",value:function(){var a=mt(this.range,2),i=a[0],s=a[1];this.interpolate=_a(i,s)}},{key:"update",value:function(a){$(Y(e.prototype),"update",this).call(this,a),this._updateInterpolate()}},{key:"_mapping",value:function(a){var i=this.scale,s=this.interpolate;return P(a)?a.map(function(o){return s(i.scale(o))}):s(i.scale(a))}},{key:"normalize",value:function(a){var i=this.scale;return P(a)?a.map(function(s){return i.scale(s)}):i.scale(a)}},{key:"convert",value:function(a){var i=this.range,s=mt(i,2),o=s[0],u=s[1];return P(a)?a.map(function(l){return o+(u-o)*l}):o+(u-o)*a}}]),e}(xr);const ts=Dc;var Ic=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"createScale",value:function(a){return new pr(a)}},{key:"_mapping",value:function(a){var i=this.scale,s=this.range;if(i.type==="cat"){var o=i.translate(a);return s[o%s.length]}var u=i.scale(a),l=Math.round(u*(s.length-1));return s[l]}}]),e}(xr);const es=Ic;var Rc=function(t){N(e,t);var r=E(e);function e(){return D(this,e),r.apply(this,arguments)}return T(e,[{key:"createScale",value:function(a){return new qi(a)}},{key:"_mapping",value:function(){var a=this.field,i=this.range;return a||i&&i[0]}}]),e}(xr);const rs=Rc,On=Object.freeze(Object.defineProperty({__proto__:null,Attr:xr,Category:es,Identity:rs,Linear:ts},Symbol.toStringTag,{value:"Module"}));var Hr=rs,Wr=ts,Oc=es,Lc=["x","y","color","size","shape"],Ln=["color","size","shape"];function Yc(t,r){return new t.constructor(_(_({},t.__cfg__),r))}var Nc=function(){function t(r,e){D(this,t),this.scaleController=r,this.attrsRange=e,this.options={},this.attrs={}}return T(t,[{key:"parseOption",value:function(e,n){return e?Q(e)?{field:e,type:"category"}:W(e)&&n==="size"?{type:"identity",field:e}:P(e)?{field:e[0],range:e[1]}:e:{type:"identity"}}},{key:"getAttrOptions",value:function(e,n){var a=this;if(!e.x||!e.y)throw new Error("x, y are required !");var i={},s=this.attrsRange;Lc.forEach(function(l){if(e[l]){var f=a.parseOption(e[l],l);f.range||(f.range=s[l]),i[l]=f}});var o=i.x,u=i.y;return o.justifyContent=n,o.type=Wr,u.type=Wr,i}},{key:"getDefaultAttrValues",value:function(){var e=this.attrsRange,n=e.color,a=e.shape;return{color:n[0],shape:a&&a[0]}}},{key:"getGroupScales",value:function(){var e=this.attrs,n=[];return F(Ln,function(a){var i=e[a];if(i){var s=i.scale;s&&s.isCategory&&n.indexOf(s)===-1&&n.push(s)}}),n}},{key:"createAttr",value:function(e){var n=e.type,a=e.field,i=e.scale;if(w(a)||n===Hr)return new Hr(e);var s=this.scaleController.getScale(a),o=_(_({},e),{},{data:this.scaleController.getData(),scale:i?Yc(s,i):s});if(s&&s.type==="identity")return new Hr(o);var u=s.isLinear?Wr:Oc;return j(n)&&(u=n),Q(n)&&On[Ae(n)]&&(u=On[Ae(n)]),new u(o)}},{key:"create",value:function(e){this.update(e)}},{key:"update",value:function(e){var n=this.scaleController,a=this.options,i=this.attrs,s={};F(e,function(o,u){var l=a[u];wt(o,l)&&(s[u]=i[u]);var f=o.field,c=o.justifyContent;f&&n.setScale(f,{justifyContent:c})}),this.options=e,this.attrs=s}},{key:"getAttr",value:function(e){var n=this.attrs,a=this.options,i=n[e];if(i)return i;var s=a[e];if(!s)return null;var o=this.createAttr(s);return n[e]=o,o}},{key:"getAttrs",value:function(){var e=this,n=this.options,a=this.attrs;return F(n,function(i,s){e.getAttr(s)}),a}},{key:"isGroupAttr",value:function(e){return Ln.indexOf(e)!==-1}},{key:"getAttrsByLinear",value:function(){var e=this.attrs,n=Object.keys(e),a=[],i=[];return n.forEach(function(s){if(s==="x"||s==="y"){a.push(s);return}var o=e[s].scale;o&&o.type==="linear"?a.push(s):i.push(s)}),{linearAttrs:a,nonlinearAttrs:i}}}]),t}();const Ec=Nc;var Fc=["field"],Xt="origin",$c=function(t){N(e,t);var r=E(e);function e(n,a){var i;D(this,e),i=r.call(this,n,a),i.isGeometry=!0,i.justifyContent=!1,i.startOnZero=!1,i.connectNulls=!1,i.sortable=!1,X(pe(i),i.getDefaultCfg());var s=n.chart,o=n.coord,u=i._getThemeAttrsRange();i.attrController=new Ec(s.scale,u);var l=pe(i),f=l.attrController,c=l.justifyContent,h=f.getAttrOptions(n,!o.isCyclic()||c);return f.create(h),i}return T(e,[{key:"getDefaultCfg",value:function(){return{}}},{key:"willReceiveProps",value:function(a){$(Y(e.prototype),"willReceiveProps",this).call(this,a);var i=this.props,s=this.attrController,o=this.justifyContent,u=a.data,l=a.adjust,f=a.zoomRange,c=a.coord,h=i.data,v=i.adjust,p=i.zoomRange,d=!c.isCyclic()||o,y=s.getAttrOptions(a,d),g=s.getAttrOptions(i,d);wt(y,g)||(s.update(y),this.records=null),u!==h&&(this.records=null),l!==v&&(this.records=null),wt(f,p)||(this.records=null)}},{key:"willMount",value:function(){this._createAttrs(),this.records||this._processData()}},{key:"willUpdate",value:function(){this._createAttrs(),this.records||this._processData()}},{key:"didMount",value:function(){$(Y(e.prototype),"didMount",this).call(this),this._initEvent()}},{key:"_createAttrs",value:function(){var a=this.attrController;a.attrs={},this.attrs=a.getAttrs()}},{key:"_getThemeAttrsRange",value:function(){var a=this.context,i=this.props,s=this.geomType,o=i.coord,u=a.theme,l=u.colors,f=u.sizes,c=u.shapes;return{x:o.x,y:o.y,color:l,size:f,shape:c[s]}}},{key:"_adjustScales",value:function(){var a=this.attrs,i=this.props,s=this.startOnZero,o=i.chart,u=i.startOnZero,l=u===void 0?s:u,f=i.coord,c=i.adjust,h=f.isPolar,v=f.transposed,p=a.y,d=p.field;if(l){var y=a.y;o.scale.adjustStartZero(y.scale)}if(h&&v&&(c==="stack"||(c==null?void 0:c.type)==="stack")){var g=a.y;o.scale.adjustPieScale(g.scale)}(c==="stack"||(c==null?void 0:c.type)==="stack")&&this._updateStackRange(d,p.scale,this.dataArray)}},{key:"_groupData",value:function(a){var i=this.attrController,s=i.getGroupScales();if(!s.length)return[{children:a}];var o=[];s.forEach(function(c){var h=c.field;o.push(h)});var u=zn(a,o),l=[];for(var f in u)l.push({key:f.replace(/^_/,""),children:u[f]});return l}},{key:"_saveOrigin",value:function(a){for(var i=a.length,s=new Array(i),o=0;o<i;o++){var u=a[o];s[o]=_(_({},u),{},tr({},Xt,u))}return s}},{key:"_numberic",value:function(a){for(var i=this.attrs,s=[i.x.scale,i.y.scale],o=0,u=a.length;o<u;o++)for(var l=a[o],f=s.length,c=0;c<f;c++){var h=s[c];if(h.isCategory){var v=h.field;l[v]=h.translate(l[v])}}}},{key:"_adjustData",value:function(a){var i=this.attrs,s=this.props,o=s.adjust,u=a.map(function(x){return x.children});if(!o)return u;var l=typeof o=="string"?{type:o}:o,f=Ae(l.type),c=Qi(f);if(!c)throw new Error("not support such adjust : "+o);if(f==="Dodge"){for(var h=0,v=u.length;h<v;h++)this._numberic(u[h]);l.adjustNames=["x"]}var p=i.x,d=i.y;l.xField=p.field,l.yField=d.field;var y=new c(l),g=y.process(u);return this.adjust={type:l.type,adjust:y},a.forEach(function(x,M){x.children=g[M]}),g}},{key:"_updateStackRange",value:function(a,i,s){for(var o=Pe(s),u=1/0,l=-1/0,f=0,c=o.length;f<c;f++){var h=o[f],v=Math.min.apply(null,h[a]),p=Math.max.apply(null,h[a]);v<u&&(u=v),p>l&&(l=p)}(u!==i.min||l!==i.max)&&i.change({min:u,max:l})}},{key:"_processData",value:function(){var a=this.props,i=a.data,s=this._saveOrigin(i),o=this._groupData(s),u=this._adjustData(o);this.dataArray=u,this._adjustScales(),this.sortable&&this._sortData(o),this.records=o}},{key:"_sortData",value:function(a){var i=this.getXScale(),s=i.field,o=i.type;o!=="identity"&&i.values.length>1&&F(a,function(u){var l=u.children;l.sort(function(f,c){return o==="timeCat"?Lr(f[Xt][s])-Lr(c[Xt][s]):i.translate(f[Xt][s])-i.translate(c[Xt][s])})})}},{key:"_initEvent",value:function(){var a=this,i=this.container,s=this.props,o=i.get("canvas");["onPressStart","onPress","onPressEnd","onPan","onPanStart","onPanEnd"].forEach(function(u){s[u]&&o.on(u.substr(2).toLowerCase(),function(l){l.geometry=a,s[u](l)})})}},{key:"getY0Value",value:function(){var a=this.attrs,i=this.props,s=i.chart,o=a.y.field,u=s.getScale(o);return s.scale.getZeroValue(u)}},{key:"_getShapeStyle",value:function(a,i){var s=this.context,o=this.props,u=this.geomType,l=s.theme,f=l.shape[u]||{},c=f.default,h=f[a],v=o.style,p=_(_({},c),h);if(!v||!ye(v))return p;var d=v.field,y=$t(v,Fc),g=d?i[d]:i;return F(y,function(x,M){j(x)?p[M]=x(g):p[M]=x}),p}},{key:"_mapping",value:function(a){for(var i=this.attrs,s=this.props,o=this.attrController,u=s.coord,l=o.getAttrsByLinear(),f=l.linearAttrs,c=l.nonlinearAttrs,h=o.getDefaultAttrValues(),v=0,p=a.length;v<p;v++){var d=a[v],y=d.children,g=_({},h),x=y[0];if(y.length!==0){for(var M=0,k=c.length;M<k;M++){var S=c[M],O=i[S];g[S]=O.mapping(x[O.field])}for(var b=0,A=y.length;b<A;b++){for(var m=y[b],C={},z=0;z<f.length;z++){var R=f[z],U=i[R];o.isGroupAttr(R)?g[R]=U.mapping(m[U.field],m):C[R]=U.normalize(m[U.field])}var ut=u.convertPoint({x:C.x,y:C.y}),vt=ut.x,jt=ut.y,at=g.shape,Tt=this._getShapeStyle(at,m.origin),pt=this.isSelected(m);X(m,g,{normalized:C,x:vt,y:jt,shapeName:at,shape:Tt,selected:pt})}}}return a}},{key:"mapping",value:function(){var a=this.records;return this._mapping(a),a}},{key:"getClip",value:function(){var a=this.props,i=a.coord,s=a.viewClip,o=i.width,u=i.height,l=i.left,f=i.top;return s?{type:"rect",attrs:{x:l,y:f,width:o,height:u}}:null}},{key:"getAttr",value:function(a){return this.attrController.getAttr(a)}},{key:"getXScale",value:function(){return this.getAttr("x").scale}},{key:"getYScale",value:function(){return this.getAttr("y").scale}},{key:"_getXSnap",value:function(a){var i=this.getXScale();if(i.isCategory)return i.invert(a);var s=i.invert(a),o=i.values,u=o.length;if(u===1||(o[0]+o[1])/2>s)return o[0];if((o[u-2]+o[u-1])/2<=s)return o[u-1];for(var l=1;l<u;l++)if((o[l-1]+o[l])/2<=s&&(o[l+1]+o[l])/2>s)return o[l];return null}},{key:"_getYSnapRecords",value:function(a,i){var s=this.getYScale(),o=s.field,u=s.invert(a);return s.isCategory?i.filter(function(l){return l[Xt][o]===u}):i.filter(function(l){var f=l[o];return f[0]<=u&&f[1]>=u})}},{key:"flatRecords",value:function(){var a=this.records;return a.reduce(function(i,s){return i.concat(s.children)},[])}},{key:"getSnapRecords",value:function(a,i){var s=this.props,o=s.coord,u=s.adjust,l=o.invertPoint(a),f=this.getXScale(),c=this.getYScale();if(i){var h=f.range,v=c.range;l.x=Math.min(Math.max(l.x,h[0]),h[1]),l.y=Math.min(Math.max(l.y,v[0]),v[1])}var p=this.flatRecords();if(u==="stack"&&o.isPolar&&o.transposed&&l.x>=0&&l.x<=1){var d=this._getYSnapRecords(l.y,p);return d}var y=[],g=this._getXSnap(l.x);if(!g)return y;for(var x=f.field,M=c.field,k=0,S=p.length;k<S;k++){var O=_(_({},p[k]),{},{xField:x,yField:M}),b=O[Xt][x];(f.type==="timeCat"&&Lr(b)===g||b===g)&&y.push(O)}return y}},{key:"getLegendItems",value:function(){var a=this.attrController,i=a.getAttr("color");if(!i)return null;var s=i.scale;if(!s.isCategory)return null;var o=s.getTicks(),u=o.map(function(l){var f=l.text,c=l.tickValue,h=i.mapping(c);return{field:s.field,color:h,name:f,tickValue:c}});return u}}]),e}(_c);const jc=$c;function fe(t,r){var e=(r.x-t.x)/2+t.x,n=(r.y-t.y)/2+t.y;return{x:e,y:n}}var Yn={textBaseline:"middle",fill:"#808080"};function Nn(t){var r=t.record,e=t.offsetX,n=t.offsetY,a=t.points,i=t.label,s=t.guide,o=r.origin,u=r.color,l,f;if(j(i)){var c=a.length===4?fe(a[1],a[2]):fe(a[0],a[1]);l=X({x:c.x+e,y:c.y+n},Yn,i(o,u))}if(j(s)){var h,v=fe(a.length===4?fe(a[0],a[1]):a[0],fe(a[2],(h=a[3])!==null&&h!==void 0?h:a[1]));f=X({x:v.x,y:v.y,textBaseline:"middle",textAlign:"center"},Yn,s(o,u))}return V("group",null,l&&V("text",{attrs:l}),f&&V("text",{attrs:f}))}const Bc=Object.freeze(Object.defineProperty({__proto__:null,funnel:Nn,pyramid:Nn},Symbol.toStringTag,{value:"Module"})),zc=function(t){return function(r){N(n,r);var e=E(n);function n(){return D(this,n),e.apply(this,arguments)}return T(n,[{key:"getDefaultCfg",value:function(){return{geomType:"interval",justifyContent:!0,startOnZero:!0}}},{key:"getDefaultSize",value:function(){var i=this.attrs,s=this.props,o=this.adjust,u=this.records,l=s.coord,f=s.sizeRatio,c=i.x,h=c.scale,v=h.values;if(f)return 1/v.length*f;var p={column:1/2,rose:.999999,multiplePie:3/4},d=v.length,y;l.isPolar?l.transposed&&d>1?y=p.multiplePie:y=p.rose:y=p.column;var g=1/v.length*y;return o&&o.type==="dodge"?g/u.length:g}},{key:"mapping",value:function(){for(var i=$(Y(n.prototype),"mapping",this).call(this),s=this.props,o=s.coord,u=this.getY0Value(),l=this.getDefaultSize(),f=0,c=i.length;f<c;f++)for(var h=i[f],v=h.children,p=0,d=v.length;p<d;p++){var y=v[p],g=y.normalized,x=y.size;if(w(x)){var M=g.x,k=g.y,S=g.size,O=S===void 0?l:S;X(y,o.convertRect({x:M,y:k,y0:u,size:O}))}else{var b=y,A=b.x,m=b.y,C={size:x,x:A,y:m,y0:u};X(y,o.transformToRect(C))}X(y.shape,this.getSelectionStyle(y))}return i}},{key:"getPointY0",value:function(){var i=this.props,s=i.coord,o=this.getY0Value(),u=s.convertPoint({y:o,x:0});return u==null?void 0:u.y}},{key:"render",value:function(){var i=this.props,s=this.state;this.container;var o=i.coord,u=i.shape,l=u===void 0?"rect":u,f=i.animation,c=i.showLabel,h=i.labelCfg,v=j(t)?t:t[l],p=Bc[l],d=hr({label:null,offsetX:0,offsetY:0},h);if(!v)return null;var y=s.selected,g=this.mapping(),x=this.getPointY0(),M=this.getClip();return V(v,{coord:o,records:g,selected:y,shape:l,animation:f,showLabel:c,labelCfg:d,LabelView:p,y0:x,clip:M})}}]),n}(jc)},Xc=function(t){var r=t.records,e=t.animation,n=t.y0,a=t.clip;return V("group",{attrs:{clip:a}},r.map(function(i){var s=i.key,o=i.children;return V("group",{key:s},o.map(function(u){var l=u.key,f=u.xMin,c=u.xMax,h=u.yMin,v=u.yMax,p=u.color,d=u.shape;return isNaN(f)||isNaN(c)||isNaN(h)||isNaN(v)?null:V("rect",{key:l,attrs:_({x:f,y:h,width:c-f,height:v-h,fill:p},d),animation:hr({appear:{easing:"linear",duration:450,property:["y","height"],start:{y:n,height:0}},update:{easing:"linear",duration:450,property:["x","y","width","height"]}},e)})}))}))},Hc=function(t){var r=t.coord,e=t.records,n=t.animation,a=r.center,i=r.startAngle,s=r.endAngle,o=r.radius;return V("group",{animation:{appear:_(_({easing:"quadraticOut",duration:450},n&&n.appear),{},{clip:{type:"sector",property:["endAngle"],attrs:{x:a.x,y:a.y,startAngle:i,r:o},start:{endAngle:i},end:{endAngle:s}}})}},e.map(function(u){var l=u.key,f=u.children;return V("group",{key:l},f.map(function(c){var h=c.key,v=c.xMin,p=c.xMax,d=c.yMin,y=c.yMax,g=c.color,x=c.shape;return V("sector",{key:h,attrs:_({x:a.x,y:a.y,fill:g,startAngle:v,endAngle:p,r0:d,r:y},x),animation:hr({update:{easing:"linear",duration:450,property:["x","y","startAngle","endAngle","r0","r"]}},n)})}))}))},Wc=function(t){var r=t.coord,e=r.type;return e==="rect"?V(Xc,_({},t)):V(Hc,_({},t))};function Vr(t){var r=t.xMin,e=t.xMax,n=t.yMin,a=t.yMax;return[{x:r,y:n},{x:e,y:n},{x:e,y:a},{x:r,y:a}]}const En=function(t){var r=t.records,e=t.shape,n=t.showLabel,a=t.labelCfg,i=t.LabelView,s=!1;return V("group",null,r.map(function(o,u){var l=o.key,f=o.children,c=u===r.length-1,h=c?o:r[u+1],v=h.children,p=Vr(v[0]),d=Vr(v[v.length-1]);s||(s=v[0].yMax>f[0].yMax),s&&(p.reverse(),d.reverse());var y=f.map(function(g,x){var M=Vr(g);return s&&M.reverse(),c?e==="pyramid"&&(M=[fe(M[0],M[1]),M[2],M[3]]):(x===0&&(M[0]=p[3]),x===f.length-1&&(M[1]=d[2])),_(_({},g),{},{points:M})});return V("group",{key:l},y.map(function(g){var x=g.points,M=g.color,k=g.shape;return V("group",null,V("polygon",{attrs:_({points:x,fill:M},k)}),n&&i?V(i,_({record:g,points:x},a)):null)}))}))},Vc=Object.freeze(Object.defineProperty({__proto__:null,funnel:En,pyramid:En,rect:Wc},Symbol.toStringTag,{value:"Module"})),qc=zc(Vc);var Gc=function t(r){return G.map(r,function(e){if(!e)return e;var n=Fn(e);if(ss(n)){var a=n.key,i=n.ref,s=n.type,o=n.props,u=n.children;return u&&(o.children=t(u)),{key:a,ref:i,type:s,props:o}}if(n.default){var l=n.default();return t(l)}return null})};const Uc={props:{className:{type:String,required:!1},pixelRatio:{type:Number,default:1,required:!1},width:{type:[Number,String],required:!1},height:{type:[Number,String],required:!1},padding:{type:[Number,String,Array],required:!1},animate:{type:[Boolean],default:!0,required:!1},px2hd:{type:[Function],required:!1}},methods:{getProps:function(){var r=this.$props,e=this.$slots,n=Fn(r);return n.children=Gc(e),n}},mounted:function(){var r=this.$el,e=r.getContext("2d"),n=this.getProps(),a=new lf(_(_({},n),{},{context:e}));a.render(),this.canvas=a},updated:function(){var r=this.getProps(),e=this.canvas;e.update(r)},render:function(){return is("canvas",{className:"f2-chart ".concat(this.className||""),style:{width:"100%",height:"100%",display:"block",padding:0,margin:0}})},beforeUnmount:function(){var r=this.canvas;r.destroy()}},Zc=[{a:"1",b:.6,c:"1",color:"#A81E2D"},{a:"2",b:.7,c:"1",color:"#67A784"},{a:"3",b:.8,c:"1",color:"#F48F22"},{a:"1",b:.4,c:"2",color:"#FFEBED"},{a:"2",b:.3,c:"2",color:"#E8FFF2"},{a:"3",b:.2,c:"2",color:"#FFF2E3"}],Jc={name:"ringChart",props:["summary"],data(){return{data:[]}},methods:{process(){let t=JSON.parse(JSON.stringify(Zc));if(this.summary)var{meat:r,vegetable:e,rice:n}=this.summary;else var r=0,e=0,n=0;t[0].b=Number(r)/100,t[1].b=Number(e)/100,t[2].b=Number(n)/100,t[3].b=1-Number(r)/100,t[4].b=1-Number(e)/100,t[5].b=1-Number(n)/100,this.data=t}},watch:{summary:{immediate:!0,handler(t,r){this.process()}}},render(){return Me("div",{className:"container"},[Me(Uc,{pixelRatio:window.devicePixelRatio},{default:()=>[Me(gc,{data:this.data,coord:{type:"polar",transposed:!0,innerRadius:.2}},{default:()=>[Me(qc,{x:"a",y:"b",color:{field:"color",callback:t=>t},adjust:"stack"},null)]})]})])}};const Kc=$n(Jc,[["__scopeId","data-v-dbee85e3"]]);const Qc={class:"flex justify-between items-center daily-item my-2"},th={class:"flex items-center"},eh=["src"],rh={class:"m-4"},ah={class:"font_2"},nh={class:"font_3"},ih={class:"ring-chart"},sh=["src"],oh={__name:"dailyItem",props:["data"],setup(t){const r=t,e=os(null),n=a=>{a?e.value=r.data.pic:e.value=null};return(a,i)=>(Oa(),La("div",null,[It("div",Qc,[It("div",th,[It("img",{class:"food-image",src:r.data.pic,onClick:i[0]||(i[0]=s=>n(!0))},null,8,eh),It("div",rh,[It("div",ah,Ya(r.data.overall)+"% complete",1),It("div",nh,Ya(us(fs)(r.data.timestamp)),1)])]),It("div",ih,[Me(Kc,{summary:r.data},null,8,["summary"])])]),e.value?(Oa(),La("div",{key:0,class:"preview-image",onClick:i[1]||(i[1]=s=>n(!1))},[It("img",{src:e.value},null,8,sh)])):ls("",!0)]))}},hh=$n(oh,[["__scopeId","data-v-c9ea104f"]]);export{hh as d,Kc as r,ch as t};
